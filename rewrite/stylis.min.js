(function(y){"object"===typeof exports&&"undefined"!==typeof module?module.exports=y():"function"===typeof define&&define.amd?define(y()):window.stylis=y()})(function(){function y(f,e,c){for(var d,k,b,u=0,g=d=b=0,h,n=0,E=k=0,z=c.length,F=z-1,m,a="",t="",q="",B=f="",L;g<z;){h=c.charCodeAt(g);if(0===l+p+A+v){1===E&&(44!==h&&(g--,h=59),E=0);switch(g){case F:if(0<(a=a.trim()).length){switch(h){case 32:case 9:case 13:case 59:case 10:break;default:a+=c.charAt(g)}h=59}}switch(h){case 123:a=a.trim();u=1;
for(g++;g<z;){h=c.charCodeAt(g);switch(h){case 123:u++;break;case 125:u--}if(0===u)break;q+=c.charAt(g++)}if(64===a.charCodeAt(0))switch(a.charCodeAt(1)){case 109:case 115:q=a+"{"+y(e,e,q)+"}";break;case 102:q=a+y(e,O,q);break;case 107:a=a.replace(da,"$1 $2"+(0<I?w:"")),q=a+"{"+y(e,O,q)+"}",q="@"+(0<M?"-webkit-"+q+"@"+q:q)}else{b=e;d=a=a.trim().split(ea);k=d.length;m=b.length;if(0<m){var r=0,J=0;for(d=[];r<k;r++)for(var x=0;x<m;x++)d[J++]=Z(a[r],b[x]+" ").trim()}else for(r=0;r<k;r++)d[r]=Z(d[r],"").trim();
q=y(e,d,q)}f+=q;g++;k=d=b=0;suffix=prefix=q=a="";break;case 59:1===k&&(a=a.replace(aa,""));a=a.trim();0<C&&0<P&&(L=N(1,e,a,G,D,t.length))&&(a=L.trim());d=a.charCodeAt(0);k=a.charCodeAt(1);b=a.charCodeAt(2);switch(d+k){case 169:case 163:B+=a+c.charAt(g);break;default:a+=";";if(944===2*d+3*k+4*b){m=a;d=m.length;k=m.indexOf(":",9)+1;a=m.substring(0,k).trim();d=m.substring(k,d-1).trim();b="";if(45!==m.charCodeAt(9))for(m=d.split(fa),k=i=0,d=m.length;i<d;k=0,i++){r=m[i];for(J=r.split(ga);r=J[k];){x=r.charCodeAt(0);
if(1===I&&(64<x&&90>x||96<x&&122>x||95===x||45===x&&45!==r.charCodeAt(1)))switch(isNaN(parseFloat(r))+(-1!==r.indexOf("("))){case 1:switch(r){case "infinite":case "alternate":case "backwards":case "running":case "normal":case "forwards":case "both":case "none":case "linear":case "ease":case "ease-in":case "ease-out":case "ease-in-out":case "paused":case "reversed":case "alternate-reverse":case "inherit":case "initial":case "unset":case "step-start":case "step-end":break;default:r+=w}}J[k++]=r}b+=
(0===i?"":",")+J.join(" ")}else b=110===m.charCodeAt(10)?b+(d+(1===I?w:"")):b+d;b=a+b+";";a=1===M?"-webkit-"+b+b:b}else if(1===M)switch(2*d+3*k+4*b){case 978:a="-webkit-"+a+"-moz-"+a+a;break;case 1019:case 983:a="-webkit-"+a+"-moz-"+a+"-ms-"+a+a;break;case 932:a="-webkit-"+a+"-ms-"+a+a;break;case 964:a="-webkit-"+a+"-ms-"+flex+"-"+a+a;break;case 1023:b=a.substring(a.indexOf(":",15)).replace("flex-","");a="-webkit-box-pack"+b+"-webkit-"+a+"-ms-flex-pack"+b+a;break;case 975:0<(b=a.indexOf("flex",8))&&
(b=101===a.charCodeAt(b-2)?"inline-":"",a=0<a.indexOf("!important",8)?"!important":"",a="display:-webkit-"+b+"box"+a+";display:-webkit-"+b+"flex"+a+";display:-ms-flexbox"+a+";display:"+b+"flex"+a+";");break;case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:b=a.replace("-items","");a="-webkit-"+a+"-webkit-box-"+b+"-ms-flex-"+b+a;break;case 115:a="-ms-flex-item-"+a.replace("-self","")+a;break;default:a="-ms-flex-line-pack"+a.replace("align-content","")+a}break;case 1005:ha.test(a)&&
(a=a.replace(ba,": -webkit-")+a.replace(ba,": -moz-")+a);break;case 953:0<(b=a.indexOf("-content",9))&&(b=a.substring(b-3),a="width:-webkit-"+b+"width:-moz-"+b+"width:"+b);break;case 962:case 1015:a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===k+b&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10)&&(a=a.substring(0,a.indexOf(";",27)+1).replace(ia,"-webkit-$1")+a)}t+=a}g++;k=d=b=0;a=""}}switch(h){case 10:case 13:47===l&&(l=0);if(0===l+p+A+v)switch(n){case 44:case 0:case 9:case 13:case 10:case 32:case 59:case 123:case 125:break;
default:1<d&&(E=1)}D=0;G++;break;default:if(D++,9!==h){m=c.charAt(g);switch(h){case 112:case 103:0===p+l+v&&0<d&&1===g-d&&(Q=h);break;case 58:0===p+l+v&&(d=g);break;case 44:0===l+A+p+v&&(k=1,m+="\r");break;case 34:0===l&&(p=34===p?0:0===p?34:p);break;case 39:0===l&&(p=39===p?0:0===p?39:p);break;case 91:0===p+l+A&&(v=1);break;case 93:0===p+l+A&&(v=0);break;case 41:0===p+l+v&&(A=0);break;case 40:0===p+l+v&&(A=0===d-(g-7)?(u=0,b=1):1);break;case 47:if(42===l)break;case 42:if(0===p+v+A&&47!==l)switch(m=
"",c.charCodeAt(g+1)){case 47:l=47===h?47:0;break;case 42:l=47===h?42:l}}if(0===l){if(0===K+p+v)switch(k=1,h){case 44:case 35:case 46:case 126:case 62:case 43:case 41:case 40:if(0===b)m=32===n?m+"\x00":"\x00"+m+"\x00";else switch(h){case 40:b=++u;break;case 41:0===(b=--u)&&(m+="\x00")}break;case 32:0===b&&32!==n&&(m+="\x00")}a+=m}n=h}}g++}if(0<t.length){if(0===K)for(c=k,u=0,g=e.length;u<g;u++){E=e[u].split(ja);z="";F=size=ctx=tail=code=0;for(q=E.length;F<q;F++)if(!(0===(size=(n=E[F]).length)&&1<q)){h=
" ";tail=z.charCodeAt(z.length-1);code=n.charCodeAt(0);if(0===F)h="";else switch(tail){case 35:case 46:case 126:case 62:case 43:case 32:case 40:h=""}switch(code){case 35:case 46:case 126:case 62:case 43:case 32:case 41:case 40:break;case 91:n=h+n+H;ctx=1;break;case 58:switch(n.charCodeAt(1)){case 103:n=h+n.substring(8,size-1);break;case 110:break;default:n=(2===ctx?"":h+H)+n}break;default:1<size&&0<n.indexOf(":")?n=h+n.replace(ka,H+"$1"):(n=h+n+H,ctx=1)}ctx=1===ctx?2:2===ctx?0:ctx;z+=n}e[u]=0<c?z.replace(aa,
"").trim():z}if(0<C&&0<R&&(L=N(2,e,t,G,D,t.length))&&0===(t=L.trim()).length)return t;t=e.join(",").trim()+"{"+t+"}";switch(Q){case 0:break;case 112:t=t.replace(S,"::-webkit-input-$1")+t.replace(S,"::-moz-$1")+t.replace(S,":-ms-input-$1")+t;default:Q=0}}return 0<f.length?B+t+f:t}function Z(f,e){var c=f,d=c.charCodeAt(0);switch(d){case 0:c=c.substring(1);case 10:case 32:d=(c=c.trim()).charCodeAt(0)}switch(d){case 38:return c.replace(T,e.trim());case 58:switch(c.charCodeAt(1)){case 103:if(0<K)return c.replace(la,
"$1").replace(T,B).trim();break;default:return e.trim()+c}default:switch(c.charCodeAt(c.length-1)){case 38:return c.replace(T,B)}}return e+c}function U(f,e){var c=f.charCodeAt(0);33>c&&(c=(f=f.trim()).charCodeAt(0));if(0<I){w=f;switch(c){case 35:case 46:w=w.substring(1);break;case 91:w=w.replace(ma,"$1")}w="-"+w.replace(na,"-")}switch(K){case 0:H=f;break;case 1:B=f}c=[B];0<C&&0<V&&N(-2,c,e,G,D,0);var d=y(O,c,e);0<C&&0<W&&N(-1,c,d,G,D,d.length);H=B=w="";D=G=0;return 0===ca?d:d.replace(oa,"").replace(pa,
"$1").replace(qa,"$1")}function N(f,e,c,d,k,b){for(var l=0,g=c;l<C;l++)g=X[l](f,e,c,d,k,b)||g;if(g!==c)return g+""}function Y(f){switch(f){case void 0:case null:C=X.length=0;break;default:switch(f.constructor){case Array:for(var e=0,c=f.length;e<c;e++)Y(f[e]);break;case Number:switch(f){case -2:V=0===V?1:0;break;case 1:P=0===P?1:0;break;case 2:R=0===R?1:0;break;case -1:W=0===W?1:0}break;default:X[C++]=f}}return Y}var aa=/[\0\r]/g,ba=/: */g,ha=/zoo|gra/,ia=/ *(transform)/g,fa=/,+\s*(?![^(]*[)])/g,
ga=/ +\s*(?![^(]*[)])/g,ja=/ *[\0] */g,ea=/,\r+?/g,T=/&/g,ma=/\[.+\=['"`]?(.*)['"`]?\]/g,na=/[ .#~+>]+|^\d/g,la=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,da=/@(\w+)\s+(\S+)\s*/,S=/::?(place)/g,oa=/\s+(?=[{\];=:>+*])/g,pa=/([[}=:>+*])\s+/g,qa=/(\{[^{]+?);(?=\})/g,ka=/(:+) */g,v=0,l=0,A=0,p=0,D=0,G=0,Q=0,K=1,M=1,ca=0,O=[],X=[],C=0,V=1,P=1,R=1,W=1,I=1,w="",H="",B="";U.use=Y;U.set=function(f){for(var e in f){var c=f[e];switch(e){case "keyframes":I=c|0;break;case "global":escade=c|0;break;
case "cascade":K=!!c|0;break;case "compress":ca=c|0;break;case "prefix":M=c|0}}};return U});