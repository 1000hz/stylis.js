<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>stylis.js example</title>
	<script src='../stylis.js'></script>
</head>
<body>
	<script>
		(function () {
			// stylis.use('darken', function (value) {
			// 	console.log('darken', arguments);
			// 	return 'something';
			// });

			// stylis.use((ctx, str, line, col) => {
			// 	switch (ctx) {
			// 		case 2: {
			// 			console.log('random', str);
			// 			return 'something';
			// 		}
			// 	}
			// });

			// stylis.use([
			// 	(ctx, str, line, col) => {
			// 		switch (ctx) {
			// 			case 0: {
			// 				// console.log('begin', str);
			// 				break;
			// 			}
			// 			case 4: {
			// 				console.log('import', str);
			// 				return;
			// 			}
			// 			case 5: {
			// 				console.log(1, 'random', str);
			// 				// return 'something';
			// 			}
			// 		}
			// 	}
			// ])

			// var plugins = null;

			var plugins = {
				darken () {
					console.log('darken', arguments);
					return 'something';
				},
				random (value) {
					console.log('random', arguments, eval(value));
					return 'something';
				}
			};

			output = stylis('.abc', `
				@import "foo.js";

				/* this does not work */
				// .root :global(p + p) {
				//   color: green;
				// }

				/* this works */


				// color: red;
				// width: 100px;

				// @media {
				// 	color: red;

				// 	h1 {
				// 		color: red;

				// 		h2 {
				// 			color: orange;
				// 		}
				// 	}

				// 	color: blue;

				// 	div {color: red;}
				// }

				// h1 {
				// 	color: blue;

				// 	h2 {
				// 		color: red;

				// 		h3, h4 {
				// 			color: purple;
				// 		}
				// 	}
				// }

				// div {
				// 	color: orange;

				// 	span {
				// 		color: red;
				// 	}
				// }

				// color: blue;
				// height: 100px;

				h1 {
					color: darken(  #FFF, #CCC lol  );
					width: random(100*10);

					h2 {
						color: blue;
					}
				}

				// div {
				// 	color: red;
				// }
			`, false, false, plugins);

			console.log(output);

			return;

			// output = stylis('.abc', `
			// 	h1 {
			// 		animation: loading 1s ease infinite forwards;
			// 		animation-fill-mode: none;
			// 	}
			// `);

			// console.log(output);

			// return;

			output = stylis(``, `
			.namespace {
			  	.foo {
			  		color: red;
			  	}
			  	/* .namespace .foo */ 
			  	& .foo {
			  		color: red;
			  	}
			  	/* .namespace .foo */
			  	&.foo {
			  		color: red;
			  	}
			  	/* .namespace.foo */
			  	.foo & {
			  		color: red;
			  	}
		  		/* .foo .namespace */
			}

			// order: reverse;
			// align-items: center;
			// align-self: left;
			// align-content: left;

			// html &, & h1 {
			// 	color: red;
			// }

			// :host-context(body) { color: red; }
			// :host-context(body) h1 { color: red; }

			// :global(.html.something) & {
			// 	color: red;
			// }

			// .example {
			//     display: flex;
			// 	flex-direction: column;
			// 	align-items: center;
			// 	align: left;
			// }

			// h2, h1 {
			// 	background-color: blue;

		 //  		@media screen and (min-width: 250px) {
		 //  			background-color: red;
	  // 			}
			// }

			// html & {
			// 	color: red;
			// }

			// ~~selector: .user;

			// & {}

			// animation:0.6s infinite slidein cubic-bezier() ease-in-out linear alternate normal backwords forwards both none ease;
			// animation-name:slidein;
			// animation-duration:4s;

			// body.firefox var(~~selector):before {
			// 	content: "Hi, Firefox users!" var(~~selector);
			// }

			// .foo:before {
		 //  		content: ".hello {world} ' "
			// }

			// @mixin large-text {
		 //    	font-size: 20px;
			// }

			// @mixin linx (link, visit, hover, active) {
			// 	a {
			// 	    color: var(~~link);
			// 	    &:hover {
			// 	      color: var(~~hover);   
			// 	    }
			//   	}
			// }

			// @include large-text;
			
			// @include linx(white, blue, green, yellow);

			// & {
			// 	@include large-text;
			// }
		
			// @import "foo.scss";
			// @import "foo";
			// @import "foo", 'bar';
			// @import "foo/bar";

			// @import "foo.css";
			// @import "foo" screen;
			// @import "http://foo.com/bar";
			// @import "http://localhost";
			// @import url(foo);
				
			// @include linx(white, blue, green, red);

			// & { width: calc(random()*10); }
	
			// margin: calc(random()*10);

			// & { color: red; color: $foo; }

			// :hover {color:red;}
			// :host { color: red; }
			// :host(.fancy) { color: red; }
			// :host-context(body) { color: red; }
			// :root { color: red; }
			// div, :global(.bootstrap) { color: red; }

			// span, h1{
			// 	color: red;
	
			// 	h2 {
			// 		color: purple;
			// 	}

			// 	animation: slide 0.4s infinite;
	  //     		animation-duration: 0.6s;
	  //     		animation-name: slidein;
	  //     		animation-iteration-count: infinite;
		    // }

		    // @media (600px) {
		    // 	h1 {
		    // 		color: red;
		    // 		width: calc(random()*10)px;
		    // 	}
		    // }

		    // @keyframes in {
		    // 	0% {}
		    // 	100 % {}
		    // }
	

			// :global(p) { 
			// color: blue 
			// }

		    // #id {color: red;}
		    // .class {color: red;}
		    // [title=woot] {color: blue}

		 //    .nav li:not(:last-child) a {
			// 	margin-right: 16px;
			// }
		 //    a[title=github] {
			// 	font-weight: bold;
			// }

		 //    h4,
			// h5,
			// h6 { 
			// 	font-size: 18px; 
			// }
		`, true, true, function (ctx, str, line, col) {
			// var len = str.length-1;

			// this will by pass stylis and add prefix on it's own
			// if ((str[len] === '{') && str[0] !== '/' && str.indexOf('[data-id=woot]') === -1 && str.indexOf('@') === -1) {
			// 	var selector = str.substring(0, len).trim();
			// 	return selector.split(',').map(function (value) {
			// 		return value + '[data-id=woot]';
			// 	}).join(',') + ' {';
			// }

			// // import, if an import is return it is inserted
			if (ctx === 3) {
				return `.imported { color: orange; }`;
			}
		});

		console.log(output);


		// console.log(
		// 	stylis('#ns', `
		// 		[title="a,b,c, something"], h1 {
		// 	  		color: red
		// 		}
		// 	`)
		// )

		// console.log(stylis('.abc', `
		// 	@media (max-width: 600px) {
		// 		color: red;	
		// 		h1 { color: red; }
		// 		display: none;
		// 	}
		// `))

		// console.log(stylis(`.foo`, `
		// 	h1 {
		// 		h2 {
		// 			color: blue;
		// 		}
		// 	}
		// `))
		})();
	</script>

	<script src='./index.js'></script>
</body>
</html>