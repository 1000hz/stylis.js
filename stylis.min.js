!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(global);else if("function"==typeof define&&define.amd)define(e(window));else window.stylis=e(window)}(function(e){"use strict";function i(e,C,x,v,k){e+="";var w,O,y,$=k,j="",z="",N=e.charCodeAt(0);if(N<33)N=(e=e.trim()).charCodeAt(0);switch(N){case 35:case 46:z=(j=e).substring(1);break;case 91:if(O=e.substring(1,e.length-1).split("="),w=(z=O[1]).charCodeAt(0),34===w||39===w)z=z.substring(1,z.length-1);j="["+O[0]+'="'+z+'"]';break;default:z=j=e}if(N=0,true===x||void 0==x)x=true,y=z.replace(p,"-");else y="",x=false;var E,F=null!=$,R=r.length;if(true===F)if(E=(typeof $).charCodeAt(0),111===E)t($);else if(102===E)r[R++]=$;else F=false;if(0!==R)$=1===R?r[0]:l,F=true;var q,B,D,G,H,I,J,K,L,M,P,Q,S,T,U,V,W,X,Y="",Z="",_="",ee=0,ie=0,te=0,le=0,re=0,fe=0,ne=0,se=0,ae=0,ce=0,oe=0,he=0,ge=0,ue=0;if(true===F){if(I=$(0,C,Ae,be,j,0),null!=I)C=I;U=""}for(var de=0,pe=0,be=0,Ae=1,me=C.length,Ce="";de<me;){if(ee=C.charCodeAt(de),1===ie&&de===me-1||0===se&&0===ne&&0===he&&(123===ee||125===ee||59===ee||de===me-1&&0!==Y.length)){if(Y+=C.charAt(de),true===F&&125!==ee){if(123===ee)I=$(1,Y.substring(0,Y.length-1).trim(),Ae,be,j,Ce.length);else I=$(2,Y,Ae,be,j,Ce.length);if(null!=I)Y=123===ee?I+" {":I}if(L=Y.charCodeAt(0),32===L)L=(Y=Y.trim()).charCodeAt(0);if(M=Y.charCodeAt(1),P=Y.charCodeAt(2),64===L){if(1===oe&&0!==_.length){if(oe=0,_=j+" {"+_+"}",true===F)if(I=$(4,_,Ae,be,j,Ce.length),null!=I)_=I;Ce+=_,_=""}if(59!==ee)if(107===M)S=Y.substring(1,11)+y+Y.substring(11),Y="@"+m+S,N=1;else if(109===M&&101===P||115===M&&117===P||103===M){if(de++,be++,void 0===W)W="";for(D="",re=1;de<me;){if(w=C.charCodeAt(de),123===w)re++;else if(125===w)re--;if(0===re){de++;break}D+=C.charAt(de++),be=13===w||10===w?(Ae++,0):be+1}if(e=0===pe?j:J.substring(0,J.length-1).replace(g,"").trim(),W+=Y+i(e,D.trim(),x,v,null).trim()+"}",true===F)if(I=$(3,W,Ae,be,j,Ce.length),null!=I)W=I;if(Y="",ie=1,de===me)me++;continue}else N=6;if(59!==ee&&105!==M){if(107!==M&&109!==M&&115!==M&&103!==M)N=5;le=-1,te++}}else{if(123===ee){if(pe++,1===oe&&0!==_.length){if(oe=0,_=j+" {"+_+"}",true===F)if(I=$(4,_,Ae,be,j,Ce.length),null!=I)_=I;Ce+=_,_=""}if(2===pe){de++,be++,D="";var xe=Y.substring(0,Y.length-1).split(s),ve=J.substring(0,J.length-1).split(s);for(re=1;de<me;){if(w=C.charCodeAt(de),123===w)re++;else if(125===w)re--;if(0===re)break;D+=C.charAt(de++),be=13===w||10===w?(Ae++,0):be+1}R=ve.length;for(var ke=0;ke<R;ke++){I=ve[ke],K=I.indexOf(j),ve[ke]="";for(var we=0,Oe=xe.length;we<Oe;we++){if(K>0)e=":global(%)"+I.trim();else e=I.replace(j,"&").trim();if(Q=xe[we].trim(),Q.indexOf(" &")>0)e=Q.replace("&","").trim()+" "+e;else if(null!==a.exec(Q))e=Q;else e=e+" "+Q;ve[ke]+=e.replace(n,"").trim()+(we===Oe-1?"":",")}}if(void 0===T)T="";T+="\n"+ve.join(",").replace(c," $1")+" {"+D+"}",fe=1,Y="",pe--}else if(0===te||2===N){if(0===ce&&Y.indexOf("::place")!==-1)ce=1;G=Y.split(s),H="",J="",R=G.length;for(var ke=0;ke<R;ke++){if(w=(e=G[ke]).charCodeAt(0),32===w)w=(e=e.trim()).charCodeAt(0);if(38===w)e=j+e.substring(1).replace(f,j);else if((K=e.indexOf(" &"))>0)e=e.replace(f,j).trim();else if(58===w)if(X=e.charCodeAt(1),true===v&&104===X&&116===e.charCodeAt(4))if(X=e.charCodeAt(5),40===X)e=j+e.replace(o,"$1").replace(f,j);else if(45===X)e=e.replace(h,"$1 "+j).replace(f,j);else e=j+e.substring(5);else if(103===X&&(true===v||37===(X=e.charCodeAt(8))))ae=1,e=e.replace(a,"$1").replace(f,j).trim();else e=j+e;else if(0===ae)e=j+" "+e;if(true===F)if(I=$(1.5,ke===R-1?e.substring(0,e.length-1).trim():e,Ae,be,j,Ce.length),null!=I)e=ke===R-1?I+" {":I;J+=(0!==ke?",\n":"")+(1!==ae?e:":global(%)"+e),H+=0!==ke?","+e:e,ae=0}Y=H}else J=Y}else if(false==(125===ee&&1===Y.length)){if(59!==ee)Y=(125===ee?Y.substring(0,Y.length-1):Y.trim())+";";if(97===L&&110===M&&105===P){if(Y=Y.substring(0,Y.length-1),B=Y.indexOf(":")+1,H=Y.substring(0,B),true===x&&45!==Y.charCodeAt(9)){var ye=Y.substring(B).trim().split(",");R=ye.length;for(var ke=0;ke<R;ke++){for(var $e=ye[ke],je=$e.split(" "),we=0,Oe=je.length;we<Oe;we++){var ze=je[we].trim(),Ne=ze.charCodeAt(0),Ee=ze.charCodeAt(2),Fe=ze.length,Re=ze.charCodeAt(Fe-1);if((Ne>64&&Ne<90||Ne>96&&Ne<122||45===Ne||95===Ne&&95!==ze.charCodeAt(1))&&41!==Re&&0!==Fe&&!(105===Ne&&(102===Ee&&101===Re&&8===Fe||105===Ee&&108===Re&&7===Fe||104===Ee&&116===Re&&7===Fe))&&!(117===Ne&&115===Ee&&116===Re&&5===Fe)&&!(108===Ne&&110===Ee&&114===Re&&6===Fe)&&!(97===Ne&&116===Ee&&101===Re&&(9===Fe||17===Fe))&&!(110===Ne&&114===Ee&&108===Re&&6===Fe)&&!(98===Ne&&99===Ee&&115===Re&&9===Fe)&&!(102===Ne&&114===Ee&&115===Re&&8===Fe)&&!(98===Ne&&116===Ee&&104===Re&&4===Fe)&&!(110===Ne&&110===Ee&&101===Re&&4===Fe)&&!(114===Ne&&110===Ee&&103===Re&&7===Fe)&&!(112===Ne&&117===Ee&&100===Re&&6===Fe)&&!(114===Ne&&118===Ee&&100===Re&&8===Fe)&&!(115===Ne&&101===Ee&&(116===Re&&10===Fe||100===Re&&8===Fe))&&!(101===Ne&&115===Ee&&(101===Re&&4===Fe||(11===Fe||7===Fe||8===Fe)&&45===ze.charCodeAt(4)))&&isNaN(parseFloat(ze))&&ze.indexOf("(")===-1)je[we]=y+ze}H+=(0===ke?"":",")+je.join(" ").trim()}}else H+=(110!==Y.charCodeAt(10)?"":y)+Y.substring(B).trim().trim();Y=m+H+";"+H+(125===ee?";}":";")}else if(97===L&&112===M&&112===P)Y=m+Y+b+Y+Y;else if(100===L&&105===M&&115===P){if((K=Y.indexOf("flex"))!==-1)I=101===Y.charCodeAt(K-2)?"inline-":"",Y=Y.indexOf(" !important")!==-1?" !important":"",Y="display: "+m+I+"box"+Y+";display: "+m+I+"flex"+Y+";display: "+A+"flexbox"+Y+";display: "+I+"flex"+Y+";"}else if(116===L&&(114===M&&97===P||101===M&&120===P))Y=m+Y+(102===Y.charCodeAt(5)?A+Y:"")+Y;else if(104===L&&121===M&&112===P||117===L&&115===M&&101===P)Y=m+Y+b+Y+A+Y+Y;else if(102===L&&108===M&&101===P)Y=m+Y+A+Y+Y;else if(111===L&&114===M&&100===P)Y=m+Y+A+"flex-"+Y+Y;else if(97===L&&108===M&&105===P&&45===Y.charCodeAt(5))switch(Y.charCodeAt(6)){case 105:I=Y.replace("-items",""),Y=m+Y+m+"box-"+I+A+"flex-"+I+Y;break;case 115:Y=A+"flex-item-"+Y.replace("-self","")+Y;break;default:Y=A+"flex-line-pack"+Y.replace("align-content","")+Y}else if(106===L&&117===M&&115===P)B=Y.indexOf(":"),I=Y.substring(B).replace("flex-",""),Y=m+"box-pack"+I+m+Y+A+"flex-pack"+I+Y;else if(99===L&&117===M&&114===P&&null!==/zoo|gra/.exec(Y))Y=Y.replace(d,": "+m)+Y.replace(d,": "+b)+Y;else if(119===L&&105===M&&100===P&&(K=Y.indexOf("-content"))!==-1)I=Y.substring(K-3),Y="width: "+m+I+"width: "+b+I+"width: "+I;if(59!==ee)if(Y=Y.substring(0,Y.length-1),125===ee)Y+="}"}if(125===ee){if(0!==pe)pe--;if(0===pe&&1===fe)C=C.substring(0,de+1)+T+C.substring(de+1),me+=T.length,T="",fe=0,le++;if(125!==L&&32===Y.charCodeAt(Y.length-2))Y=Y.substring(0,Y.length-1).trim()+"}"}if(0!==te){if(125===ee)le++;else if(123===ee&&0!==le)le--;if(0===le){if(1===N)Y="}@"+S+"}",S="";N=0,le--,te--}else if(1===N)S+=Y}else if(0===pe&&125!==ee)oe=1,_=void 0===_?Y:_+Y,Y=""}if(Z+=Y,125===ee&&0===N||1===ie){if(w=Z.charCodeAt(Z.length-2),1===ie){if(123===w)Z=W,w=0;else if(123===ee)Z=W+Z;else Z+=W;ie=0,W=""}if(123!==w){if(true===F)if(I=$(3,Z,Ae,be,j,Ce.length),null!=I)Z=I;if(1===ce){if(void 0===V)V=u;ce=0,I="input-place",Z=Z.replace(V,"::"+m+I)+Z.replace(V,"::"+b+"place")+Z.replace(V,":"+A+I)+Z}Ce+=Z}Z=""}Y=""}else if(13===ee||10===ee){if(1===ue)he=ue=0,Y=Y.substring(0,Y.indexOf("//")).trim();else if(true===F&&0===he&&0!==(R=(U=U.trim()).length)&&47!==U.charCodeAt(0)){if(0!==Y.length)if(I=$(7,U,Ae,be,j,Ce.length),null!=I)Y=Y.replace(new RegExp(U+"$"),I).trim();U=""}be=0,Ae++}else{if(9!==ee){if(q=C.charAt(de),true===F&&0===he)U+=q;switch(Y+=q,ee){case 44:if(0===se&&0===he&&0===ne)Y+="\n";break;case 34:if(0===he)se=34===se?0:39===se?39:34;break;case 39:if(0===he)se=39===se?0:34===se?34:39;break;case 40:if(0===se&&0===he)ne=1;break;case 41:if(0===se&&0===he)ne=0;break;case 47:if(0===se&&0===ne)if(w=C.charCodeAt(de-1),0===ge&&47===w)he=ue=1;else if(42===w)he=ge=0,Y=Y.substring(0,Y.indexOf("/*")).trim();break;case 42:if(0===se&&0===ne&&0===ue&&0===ge)if(47===C.charCodeAt(de-1))he=ge=1}}be++}de++}if(void 0!==_&&0!==_.length){if(_=j+" {"+_+"}",true===F)if(I=$(4,_,Ae,be,j,Ce.length),null!=I)_=I;Ce+=_}if(true===F)if(I=$(6,Ce,Ae,be,j,Ce.length),null!=I)Ce=I;return Ce}function t(e){var t=r.length;if(null!=e)if(e.constructor===Array)for(var l=0,f=e.length;l<f;l++)r[t++]=e[l];else r[t]=e;return i}function l(e,i,t,l,f,n){for(var s=i,a=0,c=r.length;a<c;a++)s=r[a](e,s,t,l,f,n)||s;if(s!==i)return s}var r=[],f=/&/g,n=/ +&/,s=/,\n/g,a=/:global\(%?((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,c=/(?:&| ):global\(%?((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,o=/:host\((.*)\)/g,h=/:host-context\((.*)\)/g,g=/\n/g,u=/::place/g,d=/: +/g,p=/[ .#~+><\d]+/g,b="-moz-",A="-ms-",m="-webkit-";return i.use=t,i.p=r,i.r={a:f,s:s,g:a,n:c},i});