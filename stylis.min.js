!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(null):"function"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){"use strict";function c(e,a,r,i){for(var l,o,h=0,b=0,k=0,g=0,p=0,w=0,A=0,C=0,v=0,m=0,x=0,$=0,z=0,F=0,N=0,B=0,S=0,W=0,q=0,Z=r.length,$e=Z-1,ye="",Fe="",Be="",Se="",Le="",Me="";N<Z;){if(A=r.charCodeAt(N),b+g+k+h===0){if(N===$e){if(B>0)Fe=Fe.replace(u,"");if((Fe=Fe.trim()).length>0){switch(A){case V:case T:case H:case R:case Q:break;default:Fe+=r.charAt(N)}A=H}}if(1===S)switch(A){case J:case ee:S=0;break;case T:case R:case Q:case V:break;default:N--,A=H}switch(A){case J:for(p=(Fe=Fe.trim()).charCodeAt(0),x=1,q=++N;N<Z;){switch(A=r.charCodeAt(N)){case J:x++;break;case I:x--}if(0===x)break;N++}if(Be=r.substring(q,N),p===ne)p=(Fe=Fe.replace(d,"").trim()).charCodeAt(0);switch(p){case U:if(B>0)Fe=Fe.replace(u,"");switch(w=Fe.charCodeAt(1)){case we:case be:case de:l=a;break;default:l=ze}if(Be=c(a,l,Be,w),q=Be.length,je>0&&0===q)q=Fe.length;if(Ne>0)if(l=s(ze,Fe,W),o=n(Ee,Be,l,a,Ce,Ae,q,w),Fe=l.join(""),void 0!==o)if(0===(q=(Be=o.trim()).length))w=0,Be="";if(q>0)switch(w){case we:case be:case de:Be=Fe+"{"+Be+"}";break;case he:Be=(Fe=Fe.replace(y,"$1 $2"+(He>0?Ie:"")))+"{"+Be+"}",Be="@"+(xe>0?D+Be+"@"+Be:Be);break;default:Be=Fe+Be}else Be="";break;default:Be=c(a,s(a,Fe,W),Be,i)}Le+=Be,$=0,S=0,F=0,B=0,W=0,z=0,Fe="",Be="",A=r.charCodeAt(++N);break;case I:case H:if((Fe=(B>0?Fe.replace(u,""):Fe).trim()).length>1){if(0===F)if(((p=Fe.charCodeAt(0))===Y||p>96&&p<123)&&Fe.indexOf(" "))Fe=Fe.replace(" ",":");if(Ne>0)if(void 0!==(o=n(qe,Fe,a,e,Ce,Ae,Se.length,i)))if(0===(Fe=o.trim()).length)Fe="\0\0";switch(p=Fe.charCodeAt(0),w=Fe.charCodeAt(1),p+w){case ne:break;case ge:case pe:Me+=Fe+r.charAt(N);break;default:Se+=F>0?t(Fe,p,w,Fe.charCodeAt(2)):Fe+";"}}$=0,S=0,F=0,B=0,W=0,Fe="",A=r.charCodeAt(++N)}}switch(A){case R:case Q:if(b+g+k+h+Oe===0)switch(m){case L:case ce:case se:case U:case fe:case te:case _:case ie:case re:case Y:case ae:case ee:case H:case J:case I:break;default:if(F>0)S=1}if(b===re)b=0;if(Ne*Ge>0)n(We,Fe,a,e,Ce,Ae,Se.length,i);Ae=1,Ce++;break;case H:case I:if(b+g+k+h===0){Ae++;break}default:switch(Ae++,ye=r.charAt(N),A){case T:case V:if(g+h===0)switch(C){case ee:case ae:case T:case V:ye="";break;default:if(A!==V)ye=" "}break;case ne:ye="\\0";break;case le:ye="\\f";break;case oe:ye="\\v";break;case X:if(g+b+h===0&&me>0)W=1,B=1,ye="\f"+ye;break;case 108:if(g+b+h+ve===0&&F>0)switch(N-F){case 2:if(C===ue&&r.charCodeAt(N-3)===ae)ve=C;case 8:if(v===ke)ve=v}break;case ae:if(g+b+h===0)F=N;break;case ee:if(b+k+g+h===0)B=1,ye+="\r";break;case se:case ce:if(0===b)if(g=g===A?0:0===g?A:g,N===$e)$e++,Z++;break;case M:if(g+b+k===0)h++;break;case P:if(g+b+k===0)h--;break;case L:if(g+b+h===0){if(N===$e)$e++,Z++;k--}break;case K:if(g+b+h===0){if(0===$)switch(2*C+3*v){case 533:break;default:x=0,$=1}k++}break;case U:if(b+k+g+h+F+z===0)z=1;break;case _:case re:if(g+h+k>0)break;switch(b){case 0:switch(2*A+3*r.charCodeAt(N+1)){case 235:b=re;break;case 220:b=_}break;case _:if(A===re&&C===_)ye="",b=0}}if(0===b){if(me+g+h+z===0&&i!==he&&A!==H)switch(A){case ee:case fe:case te:case ie:case L:case K:if(0===$){switch(C){case T:case V:case Q:case R:ye+="\0";break;default:ye="\0"+ye+(A===ee?"":"\0")}B=1}else switch(A){case K:$=++x;break;case L:if(0==($=--x))B=1,ye+="\0"}break;case V:switch(C){case ne:case J:case I:case H:case ee:case le:case T:case V:case Q:case R:break;default:if(0===$)B=1,ye+="\0"}}if(Fe+=ye,A!==V)m=A}}v=C,C=A,N++}if(q=Se.length,je>0)if(0===q&&0===Le.length&&0===a[0].length==false)if(i!==be||1===a.length&&(me>0?Je:Ke)===a[0])q=a.join(",").length+2;if(q>0){if(l=0===me&&i!==he?f(a):a,Ne>0)if(void 0!==(o=n(De,Se,l,e,Ce,Ae,q,i))&&0===(Se=o).length)return Me+Se+Le;if(Se=l.join(",")+"{"+Se+"}",xe*ve>0){switch(ve){case ke:Se=Se.replace(j,":"+E+"$1")+Se;break;case ue:Se=Se.replace(O,"::"+D+"input-$1")+Se.replace(O,"::"+E+"$1")+Se.replace(O,":"+G+"input-$1")+Se}ve=0}}return Me+Se+Le}function s(e,a,c){var s=a.trim().split(v),t=s,i=s.length,f=e.length;switch(f){case 0:case 1:for(var n=0,l=0===f?"":e[0]+" ";n<i;++n)t[n]=r(l,t[n],c,f).trim();break;default:for(var n=0,o=0,t=[];n<i;++n)for(var h=0;h<f;++h)t[o++]=r(e[h]+" ",s[n],c,f).trim()}return t}function r(e,a,c,s){var r=a,t=r.charCodeAt(0);if(t<33)t=(r=r.trim()).charCodeAt(0);switch(t){case X:switch(me+s){case 0:case 1:if(0===e.trim().length)break;default:return r.replace(m,"$1"+e.trim())}break;case ae:switch(r.charCodeAt(1)){case 103:if($e>0&&me>0)return r.replace(x,"$1").replace(m,"$1"+Ke);break;default:return e.trim()+r}default:if(c*me>0&&r.indexOf("\f")>0)return r.replace(m,(e.charCodeAt(0)===ae?"":"$1")+e.trim())}return e+r}function t(e,a,c,s){var r,t=8,f=0,n=e+";",l=2*a+3*c+4*s;if(944===l)n=i(n);else if(xe>0)switch(l){case 969:n=D+n.replace(q,D+"$1")+n;break;case 951:n=D+n+n;break;case 963:if(110===n.charCodeAt(5))n=D+n+n;break;case 978:n=D+n+E+n+n;break;case 1019:case 983:n=D+n+E+n+G+n+n;break;case 883:if(n.charCodeAt(8)===Y)n=D+n+n;break;case 932:n=D+n+G+n+n;break;case 964:n=D+n+G+"flex-"+n+n;break;case 1023:r=n.substring(n.indexOf(":",15)).replace("flex-",""),n=D+"box-pack"+r+D+n+G+"flex-pack"+r+n;break;case 1017:if(-1===n.indexOf("sticky",++t))break;case 975:switch(f=(n=e).length-10,r=(33===n.charCodeAt(f)?n.substring(0,f):n).substring(t).trim(),l=r.charCodeAt(0)+(0|r.charCodeAt(7))){case 203:if(r.charCodeAt(8)<111)break;case 115:n=n.replace(r,D+r)+";"+n;break;case 207:case 102:n=n.replace(r,D+(l>102?"inline-":"")+"box")+";"+n.replace(r,D+r)+";"+n.replace(r,G+r+"box")+";"+n}n+=";";break;case 938:if(n.charCodeAt(5)===Y)switch(n.charCodeAt(6)){case 105:r=n.replace("-items",""),n=D+n+D+"box-"+r+G+"flex-"+r+n;break;case 115:n=D+n+G+"flex-item-"+n.replace("-self","")+n;break;default:n=D+n+G+"flex-line-pack"+n.replace("align-content","")+n}break;case 1005:if(g.test(n))n=n.replace(k,":"+D)+n.replace(k,":"+E)+n;break;case 953:if((f=n.indexOf("-content",9))>0)r=n.substring(f-3),n="width:"+D+r+"width:"+E+r+"width:"+r;break;case 1015:if(e.charCodeAt(9)!==Y)break;case 962:if(n=D+n+(102===n.charCodeAt(5)?G+n:"")+n,c+s===211&&105===n.charCodeAt(13)&&n.indexOf("transform",10)>0)n=n.substring(0,n.indexOf(";",27)+1).replace(p,"$1"+D+"$2")+n;break;case 1e3:switch(r=n.substring(13).trim(),f=r.indexOf("-")+1,r.charCodeAt(0)+r.charCodeAt(f)){case 226:r=n.replace(W,"tb");break;case 232:r=n.replace(W,"tb-rl");break;case 220:r=n.replace(W,"lr");break;default:return n}n=D+n+G+r+n}return n}function i(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==Y)for(var i=r.split(w),f=0,c=0,a=i.length;f<a;c=0,++f){for(var n=i[f],l=n.split(A);n=l[c];){var o=n.charCodeAt(0);if(1===He&&(o>U&&o<90||o>96&&o<123||o===Z||o===Y&&n.charCodeAt(1)!==Y))switch(isNaN(parseFloat(n))+(-1!==n.indexOf("("))){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Ie}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===He?Ie:""):r;return t=s+t+";",xe>0?D+t+t:t}function f(e){for(var a,c,s=0,r=e.length,t=Array(r);s<r;++s){for(var i=e[s].split(C),f="",n=0,l=0,o=0,h=0,b=i.length;n<b;++n){if(0===(l=(c=i[n]).length)&&b>1)continue;if(o=f.charCodeAt(f.length-1),h=c.charCodeAt(0),a="",0!==n)switch(o){case _:case fe:case te:case ie:case V:case K:break;default:a=" "}switch(h){case X:c=a+Je;case fe:case te:case ie:case V:case L:case K:break;case M:c=a+c+Je;break;case ae:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if($e>0){c=a+c.substring(8,l-1);break}default:if(n<1||i[n-1].length<1)c=a+Je+c}break;case ee:a="";default:if(l>1&&c.indexOf(":")>0)c=a+c.replace(S,"$1"+Je+"$2");else c=a+c+Je}f+=c}t[s]=f.replace(u,"").trim()}return t}function n(e,a,c,s,r,t,i,f){for(var n,l=0,o=a;l<Ne;++l)switch(n=Fe[l].call(b,e,o,c,s,r,t,i,f)){case void 0:case false:case true:case null:break;default:o=n}switch(o){case void 0:case false:case true:case null:case a:break;default:return o}}function l(e){return e.replace(u,"").replace(z,"").replace(F,"$1").replace(N,"$1").replace(B," ")}function o(e){switch(e){case void 0:case null:Ne=Fe.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;++a)o(e[a]);break;case Function:Fe[Ne++]=e;break;case Boolean:Ge=0|!!e}}return o}function h(e){for(var a in e){var c=e[a];switch(a){case"keyframe":He=0|c;break;case"global":$e=0|c;break;case"cascade":me=0|c;break;case"compress":ye=0|c;break;case"prefix":xe=0|c;break;case"semicolon":Oe=0|c;break;case"preserve":je=0|c}}return h}function b(a,s){if(void 0!==this&&this.constructor===b)return e(a);var r=a,t=r.charCodeAt(0);if(t<33)t=(r=r.trim()).charCodeAt(0);if(He>0)Ie=r.replace($,t===M?"":"-");if(t=1,1===me)Ke=r;else Je=r;var i,f=[Ke];if(Ne>0)if(void 0!==(i=n(Se,s,f,f,Ce,Ae,0,0))&&"string"==typeof i)s=i;var o=c(ze,f,s,0);if(Ne>0)if(void 0!==(i=n(Be,o,f,f,Ce,Ae,o.length,0))&&"string"!=typeof(o=i))t=0;return Ie="",Ke="",Je="",ve=0,Ce=1,Ae=1,ye*t==0?o:l(o)}var d=/^\0+/g,u=/[\0\r\f]/g,k=/: */g,g=/zoo|gra/,p=/([,: ])(transform)/g,w=/,+\s*(?![^(]*[)])/g,A=/ +\s*(?![^(]*[)])/g,C=/ *[\0] */g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,x=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,$=/\W+/g,y=/@(k\w+)\s*(\S*)\s*/,O=/::(place)/g,j=/:(read-only)/g,z=/\s+(?=[{\];=:>])/g,F=/([[}=:>])\s+/g,N=/(\{[^{]+?);(?=\})/g,B=/\s{2,}/g,S=/([^\(])(:+) */g,W=/[svh]\w+-[tblr]{2}/,q=/([\w-]+t\()/g,D="-webkit-",E="-moz-",G="-ms-",H=59,I=125,J=123,K=40,L=41,M=91,P=93,Q=10,R=13,T=9,U=64,V=32,X=38,Y=45,Z=95,_=42,ee=44,ae=58,ce=39,se=34,re=47,te=62,ie=43,fe=126,ne=0,le=12,oe=11,he=107,be=109,de=115,ue=112,ke=111,ge=169,pe=163,we=100,Ae=1,Ce=1,ve=0,me=1,xe=1,$e=1,ye=0,Oe=0,je=0,ze=[],Fe=[],Ne=0,Be=-2,Se=-1,We=0,qe=1,De=2,Ee=3,Ge=0,He=1,Ie="",Je="",Ke="";if(b.use=o,b.set=h,void 0!==a)h(a);return b});