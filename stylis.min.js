!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.stylis=e(window)}(function(e){"use strict";function i(e,i,f,l){var n,d,c=e[0],p=s[c];if(1===p)n=e,d=e.substring(1);else if(2===p){var b=e.substring(1,e.length-1).split("=");n="["+b[0]+"="+(d=b[1])+"]"}else d=n=e;for(var u="",v="",m=void 0===f||f===!0?d:"",g=void 0===l||l===!0?d:"",w=i.length,h=0;h<w;){var k=i.charCodeAt(h);if(123===k||125===k||59===k){v+=i[h];var A=v.charCodeAt(0);if(32===A&&(A=(v=v.trim()).charCodeAt(0)),47===A)v=125===k&&47!==A?"}":"";else if(64===A){var C=v.charCodeAt(1)||0;if(107===C||114===C){h++,v=107==C?v.substring(1,11)+m+v.substring(11):"";for(var $=0;h<w;){var y=i[h++],x=y.charCodeAt(0);if(9!==x&&13!==x&&10!==x){if(125===x){if(1===$)break;$=1}else 123===x&&($=0);v+=y}}v=v.replace(o,"").replace(t,"-webkit-$1-moz-$1-ms-$1$1"),v=107===C?"@-webkit-"+v+"}@-moz-"+v+"}@"+v+"}":v.replace(r,"@-webkit-$1}@-moz-$1}@$1}")}}else{var C=v.charCodeAt(1)||0,z=v.charCodeAt(2)||0;if(97===A&&110===C&&105===z){var j=v.replace(a,"$1").split(":");v=j[0]+":"+g+j[1].split(",").join(","+g),v="-webkit-"+v+"-moz-"+v+v}else if(97===A&&112===C&&112===z||102===A&&108===C&&101===z||111===A&&114===C&&100===z)v="-webkit-"+v+"-moz-"+v+v;else if(116===A&&114===C&&97===z||104===A&&121===C&&112===z||117===A&&115===C&&101===z&&115===v.charCodeAt(5))v="-webkit-"+v+"-moz-"+v+"-ms-"+v+v;else if(100===A&&105===C&&115===z)v.indexOf("flex")>-1&&(v="display:-webkit-flex; display:flex;");else if(123===k){for(var j=v.split(","),O="",q=0,B=j.length;q<B;q++){var e=j[q],D=e.charCodeAt(0),E="";E=0===q?58===D||38===D||123===D?n:n+" ":","+n,O+=123===D?E+e:38===D?E+e.substring(1):E+e}v=O}}u+=v,v=""}else 9!==k&&13!==k&&10!==k&&(v+=i[h]);h++}return u}var r=/@(keyframes +.*?}$)/g,t=/((?:transform|appearance):.*?;)/g,o=/  +/g,a=/(,|:) +/g,s={">":1,".":1,"#":1,"~":1,"+":1,"*":1,":":1,"[":2};return i});