function R(){function S(d,e,b,h){for(var m=0,f=0,k=0,g=0,c,l,n,B=0,C=c=0,r=n=0,v,w=0,E=l=0,F=b.length,P=F-1,p,a="",t="",q="",K="",O="",u;r<F;){v=b.charCodeAt(r);if(0===f+g+k+m){if(1===E){switch(v){case 44:break;default:r--,v=59}E=0}switch(r){case P:if(0<l&&(a=a.replace(G,"")),0<(a=a.trim()).length){switch(v){case 32:case 9:case 59:case 13:case 10:break;default:a+=b.charAt(r)}v=59}}switch(v){case 123:a=a.trim();c=a.charCodeAt(0);B=1;for(r++;r<F;){v=b.charCodeAt(r);switch(v){case 123:B++;break;case 125:B--}if(0===
B)break;q+=b.charAt(r++)}0===c&&(c=(a=a.replace(W,"").trim()).charCodeAt(0));switch(c){case 64:0<l&&(a=a.replace(G,""));l=a.charCodeAt(1);q=S(e,108<l?e:T,q,l);0<x&&(C=X(T,a),u=H(3,q,C,e,A,y,t.length),a=C.join(""),void 0!==u&&(q=u));switch(l){case 109:case 115:q=a+"{"+q+"}";break;case 102:q=a+q;break;case 107:a=a.replace(da,"$1 $2"+(0<L?M:"")),q=a+"{"+q+"}",q="@"+(0<Q?"-webkit-"+q+"@"+q:q)}break;default:q=S(e,X(e,a),q,h)}K+=q;r++;C=l=n=c=0;suffix=prefix=q=a="";break;case 59:0<l&&(a=a.replace(G,""));
a=a.trim();0<x&&void 0!==(u=H(1,a,e,d,A,y,t.length))&&(a=u.trim());c=a.charCodeAt(0);l=a.charCodeAt(1);n=a.charCodeAt(2);switch(c+l){case 169:case 163:O+=a+b.charAt(r);break;default:a+=";";c=2*c+3*l+4*n;if(944===c){p=a;l=p.length;n=p.indexOf(":",9)+1;a=p.substring(0,n).trim();l=p.substring(n,l-1).trim();c="";if(45!==p.charCodeAt(9))for(p=l.split(ea),n=i=0,l=p.length;i<l;n=0,i++){for(var z=p[i],U=z.split(fa);z=U[n];){var I=z.charCodeAt(0);if(1===L&&(64<I&&90>I||96<I&&122>I||95===I||45===I&&45!==z.charCodeAt(1)))switch(isNaN(parseFloat(z))+
(-1!==z.indexOf("("))){case 1:switch(z){case "infinite":case "alternate":case "backwards":case "running":case "normal":case "forwards":case "both":case "none":case "linear":case "ease":case "ease-in":case "ease-out":case "ease-in-out":case "paused":case "reversed":case "alternate-reverse":case "inherit":case "initial":case "unset":case "step-start":case "step-end":break;default:z+=M}}U[n++]=z}c+=(0===i?"":",")+U.join(" ")}else c+=110===p.charCodeAt(10)?l+(1===L?M:""):l;c=a+c+";";a=0<Q?"-webkit-"+
c+c:c}else if(0<Q)switch(c){case 978:a="-webkit-"+a+"-moz-"+a+a;break;case 1019:case 983:a="-webkit-"+a+"-moz-"+a+"-ms-"+a+a;break;case 932:a="-webkit-"+a+"-ms-"+a+a;break;case 964:a="-webkit-"+a+"-ms-"+flex+"-"+a+a;break;case 1023:c=a.substring(a.indexOf(":",15)).replace("flex-","");a="-webkit-box-pack"+c+"-webkit-"+a+"-ms-flex-pack"+c+a;break;case 975:0<(c=a.indexOf("flex",8))&&(c=101===a.charCodeAt(c-2)?"inline-":"",a=0<a.indexOf("!important",8)?"!important":"",a="display:-webkit-"+c+"box"+a+";display:-webkit-"+
c+"flex"+a+";display:-ms-flexbox"+a+";display:"+c+"flex"+a+";");break;case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:c=a.replace("-items","");a="-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;break;case 115:a="-webkit-"+a+"-ms-flex-item-"+a.replace("-self","")+a;break;default:a="-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","")+a}break;case 1005:ga.test(a)&&(a=a.replace(Y,": -webkit-")+a.replace(Y,": -moz-")+a);break;case 953:0<(c=a.indexOf("-content",9))&&(c=a.substring(c-
3),a="width:-webkit-"+c+"width:-moz-"+c+"width:"+c);break;case 962:case 1015:a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===l+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10)&&(a=a.substring(0,a.indexOf(";",27)+1).replace(ha,"-webkit-$1")+a)}t+=a}r++;l=n=c=0;a=""}}switch(v){case 13:case 10:if(0===f+g+k+m+Z)switch(w){case 44:case 0:case 9:case 13:case 10:case 32:case 59:case 123:case 125:break;default:0<n&&(E=1)}47===f&&(f=0);0<x*aa&&H(0,a,e,d,A,y,t.length);y=0;A++;break;default:if(y++,
9!==v){p=b.charAt(r);switch(v){case 108:0===g+f+m+N&&0<n&&2===r-n&&(N=w);break;case 58:0===g+f+m&&(n=r);break;case 44:0===f+k+g+m&&(l=1,p+="\r");break;case 34:0===f&&(g=34===g?0:0===g?34:g);break;case 39:0===f&&(g=39===g?0:0===g?39:g);break;case 91:0===g+f+k&&(m=1);break;case 93:0===g+f+k&&(m=0);break;case 41:0===g+f+m&&k--;break;case 40:0===g+f+m&&(0===n-(r-7)&&(B=0,c=1),k++);break;case 64:0===f+k+g+m+n+C&&(C=1);break;case 42:case 47:if(!(0<g+m+k))switch(f){case 0:switch(2*v+3*b.charCodeAt(r+1)){case 235:f=
47;break;case 220:f=42}break;case 42:47===v&&42===w&&(p="",f=0)}}if(0===f){if(0===J+g+m+C&&107!==h)switch(l=1,v){case 44:case 126:case 62:case 43:case 41:case 40:if(0===c)switch(w){case 9:case 32:case 10:case 13:p+="\x00";break;default:p="\x00"+p+"\x00"}else switch(v){case 40:c=++B;break;case 41:0===(c=--B)&&(p+="\x00")}break;case 32:switch(w){case 9:case 32:case 10:case 13:break;default:0===c&&(p+="\x00")}}a+=p}}}w=v;r++}0<l&&(t=t.replace(G,""));b=t.length;0<b&&0<x&&(u=H(2,t,e,d,A,y,b),void 0!==
u&&(b=(t=u).length));if(0<b){if(0===J&&107!==h)for(d=0,h=e.length;d<h;d++){m=e[d].split(ia);f="";k=size=ctx=tail=code=0;for(g=m.length;k<g;k++)if(!(0===(size=(b=m[k]).length)&&1<g)){u=" ";tail=f.charCodeAt(f.length-1);code=b.charCodeAt(0);if(0===k)u="";else switch(tail){case 126:case 62:case 43:case 32:case 40:u=""}switch(code){case 38:b="";case 35:case 46:b=u+b+D;case 126:case 62:case 43:case 32:case 41:case 40:break;case 91:b=(ctx=1,u+b+D);break;case 58:switch(b.charCodeAt(1)){case 103:b=u+b.substring(8,
size-1);break;case 110:break;default:b=(2===ctx?"":u+D)+b}break;default:b=1<size&&0<b.indexOf(":")?u+b.replace(ja,D+"$1"):(ctx=1,u+b+D)}ctx=1===ctx?2:2===ctx?0:ctx;f+=b}e[d]=f.replace(G,"").trim()}t=e.join(",").trim()+"{"+t+"}";switch(N){case 0:break;case 112:t=t.replace(V,"::-webkit-input-$1")+t.replace(V,"::-moz-$1")+t.replace(V,":-ms-input-$1")+t;default:N=0}}return O+t+K}function X(d,e){var b=e.trim().split(ka),h=b,m=h.length,f=d.length;switch(f){case 0:case 1:for(var k=0,b=0===f?"":d[0]+" ";k<
m;k++)h[k]=O(h[k],b,f).trim();break;default:for(var g=k=0,h=[];k<m;k++)for(var c=0;c<f;c++)h[g++]=O(b[k],d[c]+" ",f).trim()}return h}function O(d,e,b){var h=d.charCodeAt(0);switch(h){case 0:d=d.replace(W,"");case 13:case 10:case 32:h=(d=d.trim()).charCodeAt(0)}switch(h){case 38:switch(J+b){case 0:case 1:if(0===e.trim().length)break;default:return d.replace(E,e.trim())}break;case 58:switch(d.charCodeAt(1)){case 103:if(0<J)return d.replace(la,"$1").replace(E,w);break;default:return e.trim()+d}default:switch(d.charCodeAt(d.length-
1)){case 38:return e.replace(w,"").trim()+" "+d.replace(E,w)}}return e+d}function F(d,e){var b=d,h=b.charCodeAt(0);33>h&&(h=(b=b.trim()).charCodeAt(0));0<L&&(M=(91===h?b.replace(ma,"$1"):b).replace(na,"-"));1===J?w=b:D=b;b=[w];0<x&&H(-2,e,b,b,A,y,0);h=S(T,b,e,0);0<x&&H(-1,h,b,b,A,y,h.length);D=w=M="";N=y=A=0;return 0===ba?h:h.replace(G,"").replace(oa,"").replace(pa,"$1").replace(qa,"$1")}function H(d,e,b,h,m,f,k){for(var g=0,c=e;g<x;g++)c=P[g](d,c,b,h,m,f,k);switch(c){case null:case void 0:case e:break;
default:return c+""}}function K(d){switch(d){case void 0:case null:x=P.length=0;break;default:switch(d.constructor){case Array:for(var e=0,b=d.length;e<b;e++)K(d[e]);break;case Function:P[x++]=d;break;case Boolean:aa=!!d|0}}return K}function ca(d){for(var e in d){var b=d[e];switch(e){case "keyframe":L=b|0;break;case "global":escade=b|0;break;case "cascade":J=b|0;break;case "compress":ba=b|0;break;case "prefix":Q=b|0;break;case "semicolon":Z=b|0}}return ca}var W=/^\0+/g,G=/[\0\r]/g,Y=/: */g,ga=/zoo|gra/,
ha=/ *(transform)/g,ea=/,+\s*(?![^(]*[)])/g,fa=/ +\s*(?![^(]*[)])/g,ia=/ *[\0] */g,ka=/,\r+?/g,E=/&/g,ma=/\[.+\=['"`]?(.*?)['"`]?\]/g,na=/^\d+|[\s.#~+>@]+/g,la=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,da=/@(k\w+s)\s*(\S*)\s*/,V=/::?(place)/g,oa=/\s+(?=[{\];=:>+*])/g,pa=/([[}=:>+*])\s+/g,qa=/(\{[^{]+?);(?=\})/g,ja=/(:+) */g,y=0,A=0,N=0,J=1,Q=1,ba=0,Z=0,T=[],P=[],x=0,aa=0,L=1,M="",D="",w="";F.use=K;F.set=ca;return F}
"object"===typeof exports&&"undefined"!==typeof module?module.exports=R():"function"===typeof define&&define.amd?define(R()):window.stylis=R();