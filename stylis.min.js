!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e()):window.stylis=e()}(function(){"use strict";function e(c,r,i,n){for(var l,o,b=0,u=0,k=0,p=0,g=0,w=0,A=0,m=0,C=0,v=0,O=0,y=0,j=0,z=0,P=0,Q=0,R=0,ke=0,pe=i.length,Ae=pe-1,Ce="",ve="",Ne="",Be="",Se="",We="";y<pe;){if(j=i.charCodeAt(y),u+p+k+b===0){if(1===R){switch(j){case U:break;default:y--,j=S}R=0}switch(y){case Ae:if(Q>0)ve=ve.replace(d,"");if((ve=ve.trim()).length>0){switch(j){case M:case K:case S:case J:case I:break;default:ve+=i.charAt(y)}j=S}}switch(j){case q:for(ve=ve.trim(),g=ve.charCodeAt(0),m=1,y++;y<pe;){switch(j=i.charCodeAt(y)){case q:m++;break;case W:m--}if(0===m)break;Be+=i.charAt(y++)}if(g===ce)g=(ve=ve.replace(h,"").trim()).charCodeAt(0);switch(g){case L:if(Q>0)ve=ve.replace(d,"");if(w=ve.charCodeAt(1),Be=e(r,w>108?r:we,Be,w),me>0)if(l=a(we,ve),o=f(ye,Be,l,r,he,oe,Ne.length),ve=l.join(""),void 0!==o)Be=o;switch(w){case re:case te:Be=ve+"{"+Be+"}";break;case ne:Be=ve+Be;break;case se:ve=ve.replace(x,"$1 $2"+(ze>0?Fe:"")),Be=ve+"{"+Be+"}",Be="@"+(ue>0?F+Be+"@"+Be:Be)}break;default:Be=e(r,a(r,ve),Be,n)}Se+=Be,y++,C=0,O=0,Q=0,v=0,ve="",Be="";break;case S:if(Q>0)ve=ve.replace(d,"");if(ve=ve.trim(),me>0)if(void 0!==(o=f($e,ve,r,c,he,oe,Ne.length)))ve=o.trim();switch(g=ve.charCodeAt(0),w=ve.charCodeAt(1),A=ve.charCodeAt(2),g+w){case ie:case fe:We+=ve+i.charAt(y);break;default:Ne+=s(ve,g,w,A)}y++,C=0,O=0,Q=0,ve=""}}switch(j){case J:case I:if(u+p+k+b+ge===0)switch(z){case U:case ce:case K:case J:case I:case M:case S:case q:case W:break;default:if(O>0)R=1}if(u===Z)u=0;if(me*je>0)f(xe,ve,r,c,he,oe,Ne.length);oe=1,he++;break;default:if(oe++,j===K)break;switch(Ce=i.charAt(y),j){case 108:if(p+u+b+de===0&&O>0&&y-O===2)de=z;break;case V:if(p+u+b===0)O=y;break;case U:if(u+k+p+b===0)Q=1,Ce+="\r";break;case Y:if(0===u)p=p===Y?0:0===p?Y:p;break;case X:if(0===u)p=p===X?0:0===p?X:p;break;case G:if(p+u+k===0)b=1;break;case H:if(p+u+k===0)b=0;break;case E:if(p+u+b===0){if(y===Ae)Ae++,pe++;k--}break;case D:if(p+u+b===0){if(0===C)switch(2*z+3*P){case 533:break;default:m=0,C=1}k++}break;case L:if(u+k+p+b+O+v===0)v=1;break;case T:case Z:if(p+b+k>0)break;switch(u){case 0:switch(2*j+3*i.charCodeAt(y+1)){case 235:u=Z;break;case 220:u=T}break;case T:if(j===Z&&z===T)Ce="",u=0}}if(0===u){if(be+p+b+v===0&&n!==se)switch(Q=1,j){case U:case ae:case _:case ee:case E:case D:if(0===C)switch(z){case K:case M:case I:case J:Ce+="\0";break;default:Ce="\0"+Ce+(j===U?"":"\0")}else switch(j){case D:C=++m;break;case E:if(0===(C=--m))Ce+="\0"}break;case M:switch(z){case U:case K:case M:case I:case J:break;default:if(0===C)Ce+="\0"}}ve+=Ce}}P=z,z=j,y++}if(Q>0)Ne=Ne.replace(d,"");if(ke=Ne.length,ke>0&&me>0)if(o=f(Oe,Ne,r,c,he,oe,ke),void 0!==o)ke=(Ne=o).length;if(ke>0){if(0===be&&n!==se)t(r);switch(Ne=r.join(",").trim()+"{"+Ne+"}",de){case 0:break;case le:Ne=Ne.replace($,"::"+F+"input-$1")+Ne.replace($,"::"+N+"$1")+Ne.replace($,":"+B+"input-$1")+Ne;default:de=0}}return We+Ne+Se}function a(e,a){var s=a.trim().split(A),r=s,t=r.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?"":e[0]+" ";f<t;f++)r[f]=c(r[f],n,i).trim();break;default:for(var f=0,l=0,r=[];f<t;f++)for(var o=0;o<i;o++)r[l++]=c(s[f],e[o]+" ",i).trim()}return r}function c(e,a,c){var s=e,r=a,t=s.charCodeAt(0);switch(t){case ce:s=s.replace(h,"");case J:case I:case M:t=(s=s.trim()).charCodeAt(0)}switch(t){case P:switch(be+c){case 0:case 1:if(0===a.trim().length)break;default:return s.replace(m,r.trim())}break;case V:switch(s.charCodeAt(1)){case 103:if(ke>0&&be>0)return s.replace(v,"$1").replace(m,Be);break;default:return r.trim()+s}default:switch(s.charCodeAt(s.length-1)){case P:return r.replace(Be,"").trim()+" "+s.replace(m,Be)}}return r+s}function s(e,a,c,s){var t,i=e+";",f=0,n=2*a+3*c+4*s;if(944===n)i=r(i);else if(ue>0)switch(n){case 978:i=F+i+N+i+i;break;case 1019:case 983:i=F+i+N+i+B+i+i;break;case 932:i=F+i+B+i+i;break;case 964:i=F+i+B+flex+"-"+i+i;break;case 1023:t=i.substring(i.indexOf(":",15)).replace("flex-",""),i=F+"box-pack"+t+F+i+B+"flex-pack"+t+i;break;case 975:switch(f=(i=e).length-10,t=(33===i.charCodeAt(f)?i.substring(0,f):i).substring(8).trim(),n=t.charCodeAt(0)+(0|t.charCodeAt(7))){case 203:if(t.charCodeAt(8)>110)i=i.replace(t,F+t)+";"+i;break;case 207:case 102:i=i.replace(t,F+(n>102?"inline-":"")+"box")+";"+i.replace(t,F+t)+";"+i.replace(t,B+t+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===Q)switch(i.charCodeAt(6)){case 105:t=i.replace("-items",""),i=F+i+F+"box-"+t+B+"flex-"+t+i;break;case 115:i=F+i+B+"flex-item-"+i.replace("-self","")+i;break;default:i=F+i+B+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(u.test(i))i=i.replace(b,": "+F)+i.replace(b,": "+N)+i;break;case 953:if((f=i.indexOf("-content",9))>0)t=i.substring(f-3),i="width:"+F+t+"width:"+N+t+"width:"+t;break;case 962:case 1015:if(i=F+i+(102===i.charCodeAt(5)?B+i:"")+i,c+s===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(k,F+"$1")+i}return i}function r(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==Q)for(var i=r.split(p),f=0,c=0,a=i.length;f<a;c=0,f++){for(var n=i[f],l=n.split(g);n=l[c];){var o=n.charCodeAt(0);if(1===ze&&(o>L&&o<90||o>96&&o<122||o===R||o===Q&&n.charCodeAt(1)!==Q))switch(isNaN(parseFloat(n))+(n.indexOf("(")!==-1)){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reversed":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Fe}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===ze?Fe:""):r;return t=s+t+";",ue>0?F+t+t:t}function t(e){for(var a,c,s=0,r=e.length;s<r;s++){for(var t=e[s].split(w),i="",f=0,n=0,l=0,o=0,h=t.length;f<h;f++){if(0===(n=(c=t[f]).length)&&h>1)continue;if(a=" ",l=i.charCodeAt(i.length-1),o=c.charCodeAt(0),0===f)a="";else switch(l){case T:case ae:case _:case ee:case M:case D:a=""}switch(o){case P:c=a+""+Ne;case ae:case _:case ee:case M:case E:case D:break;case G:c=a+c+Ne;break;case V:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:c=a+c.substring(8,n-1);break;default:if(f<1||t[f-1].length<1)c=a+Ne+c}break;case U:a="";default:if(n>1&&c.indexOf(":")>0)c=a+c.replace(z,"$1"+Ne+"$2");else c=a+c+Ne}i+=c}e[s]=i.replace(d,"").trim()}}function i(a,c){var s=a,r=s.charCodeAt(0);if(r<33)r=(s=s.trim()).charCodeAt(0);if(ze>0)Fe=s.replace(C,r===G?"":"-");if(1===be)Be=s;else Ne=s;var t=[Be];if(me>0)f(ve,c,t,t,he,oe,0);var i=e(we,t,c,0);if(me>0)f(Ce,i,t,t,he,oe,i.length);return Fe="",Be="",Ne="",he=1,oe=1,de=0,0===pe?i:o(i)}function f(e,a,c,s,r,t,i){for(var f=0,n=a;f<me;f++)n=Ae[f](e,n,c,s,r,t,i);switch(n){case null:case void 0:case a:break;default:return n+""}}function n(e){switch(e){case void 0:case null:me=Ae.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;a++)n(e[a]);break;case Function:Ae[me++]=e;break;case Boolean:je=0|!!e}}return n}function l(e){for(var a in e){var c=e[a];switch(a){case"keyframe":ze=0|c;break;case"global":escade=0|c;break;case"cascade":be=0|c;break;case"compress":pe=0|c;break;case"prefix":ue=0|c;break;case"semicolon":ge=0|c}}return l}function o(e){return e.replace(d,"").replace(O,"").replace(y,"$1").replace(j,"$1")}var h=/^\0+/g,d=/[\0\r]/g,b=/: */g,u=/zoo|gra/,k=/ *(transform)/g,p=/,+\s*(?![^(]*[)])/g,g=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,A=/,\r+?/g,m=/&/g,C=/\W+/g,v=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,x=/@(k\w+s)\s*(\S*)\s*/,$=/::?(place)/g,O=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,j=/(\{[^{]+?);(?=\})/g,z=/([^\(])(:+) */g,F="-webkit-",N="-moz-",B="-ms-",S=59,W=125,q=123,D=40,E=41,G=91,H=93,I=10,J=13,K=9,L=64,M=32,P=38,Q=45,R=95,T=42,U=44,V=58,X=39,Y=34,Z=47,_=62,ee=43,ae=126,ce=0,se=107,re=109,te=115,ie=169,fe=163,ne=102,le=112,oe=1,he=1,de=0,be=1,ue=1,ke=1,pe=0,ge=0,we=[],Ae=[],me=0,Ce=-1,ve=-2,xe=0,$e=1,Oe=2,ye=3,je=0,ze=1,Fe="",Ne="",Be="";return i.use=n,i.set=l,i});