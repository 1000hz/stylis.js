!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.stylis=e(window)}(function(e){"use strict";function t(e,t,i){var n=r(e[0],e.substr(1),t,!1);if(i){if(document){if(i.nodeType)return i.appendChild(document.createTextNode(n)),i;var o=document.createElement("style");return o.textContent=n,o}return"<style>"+n+"</style>"}return n}function r(e,t,r,i){for(var n=i?"["+e+"="+t+"]":e+t,o="",f=r.length,a=0,s="";a<f;){var d=r.charCodeAt(a);if(123===d||125===d||59===d){s+=r[a],s=s.trim();var l=s.charCodeAt(0);if(47===l)s=125===d?"}":"";else if(64===l){var u=s.charCodeAt(1)||0;if(107===u||114===u){a++,s=107==u?s.substr(1,10)+t+s.substr(11):"";for(var c=0;a<f;){var p=r[a++],v=p.charCodeAt(0);if(9!==v&&13!==v&&10!==v){if(125===v){if(1===c)break;c=1}else 123===v&&(c=0);s+=p}}s=s.replace(/(transform:.*?;)/g,"-webkit-$1$1"),107===u&&(s="@-webkit-"+s+"}@"+s+"}")}}else{var u=s.charCodeAt(1)||0,b=s.charCodeAt(2)||0;if(97===l&&110===u&&105===b){var h=s.replace(/(,|:) +/g,"$1").split(":");s=h[0]+":"+t+h[1].split(",").join(","+t),s="-webkit-"+s+s}else if(116===l&&114===u&&97===b||97===l&&112===u&&112===b)s="-webkit-"+s+s;else if(123===d){for(var h=s.split(","),w="",m=0,C=h.length;m<C;m++){var y=h[m],A=y.charCodeAt(0),g="";g=0===m?58===A||38===A||123===A?n:n+" ":","+n,w+=123===A?g+y:38===A?g+y.substr(1):g+y}s=w}}o+=s,s=""}else 9!==d&&13!==d&&10!==d&&(s+=r[a]);a++}return o}return t});