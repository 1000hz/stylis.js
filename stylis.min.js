!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.stylis=e(window)}(function(e){"use strict";function t(e,t,i){var n=r(e[0],e.substr(1),t,!1);if(i){if(document){if(i.nodeType)return i.appendChild(document.createTextNode(n)),i;var o=document.createElement("style");return o.textContent=n,o}return"<style>"+n+"</style>"}return n}function r(e,t,r,i){for(var n=i?"["+e+"="+t+"]":e+t,o="",a=r.length,f=0,s="";f<a;){var d=r.charCodeAt(f);if(123===d||125===d||59===d){s+=r[f],s=s.trim();var l=s.charCodeAt(0);if(47===l)s=125===d?"}":"";else if(64===l){var c=s.charCodeAt(1)||0;if(107===c||114===c){f++,s=107==c?s.substr(1,10)+t+s.substr(11):"";for(var u=0;f<a;){var p=r[f++],b=p.charCodeAt(0);if(9!==b&&13!==b&&10!==b){if(125===b){if(1===u)break;u=1}else 123===b&&(u=0);s+=p}}s=s.replace(/  +/g,"").replace(/(transform:.*?;)/g,"-webkit-$1$1"),s=107===c?"@-webkit-"+s+"}@"+s+"}":s.replace(/@(keyframes +.*?}$)/g,"@-webkit-$1}@$1}")}}else{var c=s.charCodeAt(1)||0,v=s.charCodeAt(2)||0;if(97===l&&110===c&&105===v){var w=s.replace(/(,|:) +/g,"$1").split(":");s=w[0]+":"+t+w[1].split(",").join(","+t),s="-webkit-"+s+s}else if(116===l&&114===c&&97===v||97===l&&112===c&&112===v)s="-webkit-"+s+s;else if(123===d){for(var w=s.split(","),h="",m=0,y=w.length;m<y;m++){var C=w[m],g=C.charCodeAt(0),k="";k=0===m?58===g||38===g||123===g?n:n+" ":","+n,h+=123===g?k+C:38===g?k+C.substr(1):k+C}s=h}}o+=s,s=""}else 9!==d&&13!==d&&10!==d&&(s+=r[f]);f++}return o}return t});