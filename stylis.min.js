!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e()):window.stylis=e()}(function(){"use strict";function e(c,r,f,n){for(var l,o,d=0,u=0,k=0,g=0,p=0,w=0,A=0,m=0,v=0,C=0,O=0,j=0,z=0,F=0,N=0,T=0,U=0,me=0,ve=f.length,$e=ve-1,Oe="",je="",De="",Ee="",Ge="",He="";F<ve;){if(A=f.charCodeAt(F),u+g+k+d===0){if(1===T){switch(A){case X:break;default:F--,A=q}T=0}if(F===$e){if(N>0)je=je.replace(b,"");if((je=je.trim()).length>0){switch(A){case Q:case M:case q:case L:case K:break;default:je+=f.charAt(F)}A=q}}switch(A){case E:for(je=je.trim(),p=je.charCodeAt(0),C=1,F++;F<ve;){switch(A=f.charCodeAt(F)){case E:C++;break;case D:C--}if(0===C)break;De+=f.charAt(F++)}if(p===re)p=(je=je.replace(h,"").trim()).charCodeAt(0);switch(p){case P:if(N>0)je=je.replace(b,"");if(w=je.charCodeAt(1),De=e(r,w>108?r:xe,De,w),ye>0)if(l=a(xe,je,U),o=i(Be,De,l,r,ge,ke,Ee.length,w),je=l.join(""),void 0!==o)if(0===(De=o.trim()).length)w=0,De="";switch(w){case ne:case le:De=je+"{"+De+"}";break;case oe:De=je+De;break;case fe:je=je.replace(x,"$1 $2"+(We>0?qe:"")),De=je+"{"+De+"}",De="@"+(Ae>0?B+De+"@"+De:De)}break;default:De=e(r,a(r,je,U),De,n)}Ge+=De,F++,O=0,z=0,N=0,U=0,j=0,je="",De="";break;case D:case q:if(je=(N>0?je.replace(b,""):je).trim(),A!==D||je.length>0){if(ye>0)if(void 0!==(o=i(Fe,je,r,c,ge,ke,Ee.length,n)))if(0===(je=o.trim()).length)je="\0\0";switch(p=je.charCodeAt(0),w=je.charCodeAt(1),p+w){case re:break;case de:case ue:He+=je+f.charAt(F);break;default:Ee+=z>0?s(je,p,w,je.charCodeAt(2)):je+";"}}F++,O=0,z=0,N=0,U=0,je=""}}switch(A){case L:case K:if(u+g+k+d+Ce===0)switch(m){case Y:case X:case re:case M:case L:case K:case Q:case q:case E:case D:break;default:if(z>0)T=1}if(u===ee)u=0;if(ye*Se>0)i(ze,je,r,c,ge,ke,Ee.length);ke=1,ge++;break;default:if(ke++,A===M)break;switch(Oe=f.charAt(F),A){case re:Oe="\\0";break;case te:Oe="\\f";break;case ie:Oe="\\v";break;case R:if(g+u+d===0&&we*m===Q)U=1,N=1,Oe="\f"+Oe;break;case 108:if(g+u+d+pe===0&&z>0)switch(F-z){case 2:if(m===he&&f.charCodeAt(F-3)===Y)pe=m;case 8:if(v===be)pe=v}break;case Y:if(g+u+d===0)z=F;break;case X:if(u+k+g+d===0)N=1,Oe+="\r";break;case _:if(0===u)g=g===A?0:0===g?A:g;break;case Z:if(0===u)g=g===A?0:0===g?A:g;break;case I:if(g+u+k===0)d++;break;case J:if(g+u+k===0)d--;break;case H:if(g+u+d===0){if(F===$e)$e++,ve++;k--}break;case G:if(g+u+d===0){if(0===O)switch(2*m+3*v){case 533:break;default:C=0,O=1}k++}break;case P:if(u+k+g+d+z+j===0)j=1;break;case V:case ee:if(g+d+k>0)break;switch(u){case 0:switch(2*A+3*f.charCodeAt(F+1)){case 235:u=ee;break;case 220:u=V}break;case V:if(A===ee&&m===V)Oe="",u=0}}if(0===u){if(we+g+d+j===0&&n!==fe&&A!==q)switch(A){case X:case se:case ae:case ce:case H:case G:if(0===O){switch(m){case M:case Q:case K:case L:Oe+="\0";break;default:Oe="\0"+Oe+(A===X?"":"\0")}N=1}else switch(A){case G:O=++C;break;case H:if(0===(O=--C))N=1,Oe+="\0"}break;case Q:switch(m){case re:case E:case D:case q:case X:case te:case M:case Q:case K:case L:break;default:if(0===O)N=1,Oe+="\0"}}je+=Oe}}v=m,m=A,F++}if(me=Ee.length,me>0&&ye>0)if(o=i(Ne,Ee,r,c,ge,ke,me,n),void 0!==o)me=(Ee=o).length;if(me>0){if(0===we&&n!==fe)t(r);if(Ee=r.join(",").trim()+"{"+Ee+"}",Ae*pe>0){switch(pe){case be:Ee=Ee.replace(y,":"+S+"$1")+Ee;break;case he:Ee=Ee.replace($,"::"+B+"input-$1")+Ee.replace($,"::"+S+"$1")+Ee.replace($,":"+W+"input-$1")+Ee}pe=0}}return He+Ee+Ge}function a(e,a,s){var r=a.trim().split(A),t=r,i=r.length,f=e.length;switch(f){case 0:case 1:for(var n=0,l=0===f?"":e[0]+" ";n<i;n++)t[n]=c(l,t[n],s,f).trim();break;default:for(var n=0,o=0,t=[];n<i;n++)for(var h=0;h<f;h++)t[o++]=c(e[h]+" ",r[n],s,f).trim()}return t}function c(e,a,c,s){var r=a,t=r.charCodeAt(0);if(t<33)t=(r=r.trim()).charCodeAt(0);switch(t){case R:switch(we+s){case 0:case 1:if(0===e.trim().length)break;default:return r.replace(m,e.trim())}break;case Y:switch(r.charCodeAt(1)){case 103:if(me>0&&we>0)return r.replace(v,"$1").replace(m,Ee);break;default:return e.trim()+r}default:if(c*we>0&&r.indexOf("\f")>0)return r.replace(m,e.trim())}return e+r}function s(e,a,c,s){var t,i=e+";",f=0,n=2*a+3*c+4*s;if(944===n)i=r(i);else if(Ae>0)switch(n){case 883:if(i.charCodeAt(8)===T)i=B+i+i;break;case 978:i=B+i+S+i+i;break;case 1019:case 983:i=B+i+S+i+W+i+i;break;case 932:i=B+i+W+i+i;break;case 964:i=B+i+W+"flex-"+i+i;break;case 1023:t=i.substring(i.indexOf(":",15)).replace("flex-",""),i=B+"box-pack"+t+B+i+W+"flex-pack"+t+i;break;case 975:switch(f=(i=e).length-10,t=(33===i.charCodeAt(f)?i.substring(0,f):i).substring(8).trim(),n=t.charCodeAt(0)+(0|t.charCodeAt(7))){case 203:if(t.charCodeAt(8)>110)i=i.replace(t,B+t)+";"+i;break;case 207:case 102:i=i.replace(t,B+(n>102?"inline-":"")+"box")+";"+i.replace(t,B+t)+";"+i.replace(t,W+t+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===T)switch(i.charCodeAt(6)){case 105:t=i.replace("-items",""),i=B+i+B+"box-"+t+W+"flex-"+t+i;break;case 115:i=B+i+W+"flex-item-"+i.replace("-self","")+i;break;default:i=B+i+W+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(u.test(i))i=i.replace(d,": "+B)+i.replace(d,": "+S)+i;break;case 953:if((f=i.indexOf("-content",9))>0)t=i.substring(f-3),i="width:"+B+t+"width:"+S+t+"width:"+t;break;case 962:case 1015:if(i=B+i+(102===i.charCodeAt(5)?W+i:"")+i,c+s===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(k,B+"$1")+i}return i}function r(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==T)for(var i=r.split(g),f=0,c=0,a=i.length;f<a;c=0,f++){for(var n=i[f],l=n.split(p);n=l[c];){var o=n.charCodeAt(0);if(1===We&&(o>P&&o<90||o>96&&o<122||o===U||o===T&&n.charCodeAt(1)!==T))switch(isNaN(parseFloat(n))+(n.indexOf("(")!==-1)){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reversed":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=qe}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===We?qe:""):r;return t=s+t+";",Ae>0?B+t+t:t}function t(e){for(var a,c,s=0,r=e.length;s<r;s++){for(var t=e[s].split(w),i="",f=0,n=0,l=0,o=0,h=t.length;f<h;f++){if(0===(n=(c=t[f]).length)&&h>1)continue;if(l=i.charCodeAt(i.length-1),o=c.charCodeAt(0),a="",0!==f)switch(l){case V:case se:case ae:case ce:case Q:case G:break;default:a=" "}switch(o){case R:c=a+De;case se:case ae:case ce:case Q:case H:case G:break;case I:c=a+c+De;break;case Y:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(me>0){c=a+c.substring(8,n-1);break}default:if(f<1||t[f-1].length<1)c=a+De+c}break;case X:a="";default:if(n>1&&c.indexOf(":")>0)c=a+c.replace(N,"$1"+De+"$2");else c=a+c+De}i+=c}e[s]=i.replace(b,"").trim()}}function i(e,a,c,s,r,t,i,f){for(var n,l=0,h=a;l<ye;l++)switch(n=$e[l].call(o,e,h,c,s,r,t,i,f)){case void 0:case false:case true:case null:break;default:h=n}switch(h){case void 0:case false:case true:case null:case a:break;default:return h}}function f(e){return e.replace(b,"").replace(O,"").replace(j,"$1").replace(z,"$1").replace(F," ")}function n(e){switch(e){case void 0:case null:ye=$e.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;a++)n(e[a]);break;case Function:$e[ye++]=e;break;case Boolean:Se=0|!!e}}return n}function l(e){for(var a in e){var c=e[a];switch(a){case"keyframe":We=0|c;break;case"global":me=0|c;break;case"cascade":we=0|c;break;case"compress":ve=0|c;break;case"prefix":Ae=0|c;break;case"semicolon":Ce=0|c}}return l}function o(a,c){var s=a,r=s.charCodeAt(0);if(r<33)r=(s=s.trim()).charCodeAt(0);if(We>0)qe=s.replace(C,r===I?"":"-");if(r=1,1===we)Ee=s;else De=s;var t=[Ee];if(ye>0)i(je,c,t,t,ge,ke,0,0);var n=e(xe,t,c,0);if(ye>0){var l=i(Oe,n,t,t,ge,ke,n.length,0);if(void 0!==l)if("string"!=typeof(n=l))r=0}return qe="",Ee="",De="",pe=0,ge=1,ke=1,ve*r===0?n:f(n)}var h=/^\0+/g,b=/[\0\r\f]/g,d=/: */g,u=/zoo|gra/,k=/ *(transform)/g,g=/,+\s*(?![^(]*[)])/g,p=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,A=/,\r+?/g,m=/\f?&/g,v=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,C=/\W+/g,x=/@(k\w+s)\s*(\S*)\s*/,$=/::(place)/g,y=/:(read-only)/g,O=/\s+(?=[{\];=:>])/g,j=/([[}=:>])\s+/g,z=/(\{[^{]+?);(?=\})/g,F=/\s{2,}/g,N=/([^\(])(:+) */g,B="-webkit-",S="-moz-",W="-ms-",q=59,D=125,E=123,G=40,H=41,I=91,J=93,K=10,L=13,M=9,P=64,Q=32,R=38,T=45,U=95,V=42,X=44,Y=58,Z=39,_=34,ee=47,ae=62,ce=43,se=126,re=0,te=12,ie=11,fe=107,ne=109,le=115,oe=102,he=112,be=111,de=169,ue=163,ke=1,ge=1,pe=0,we=1,Ae=1,me=1,ve=0,Ce=0,xe=[],$e=[],ye=0,Oe=-2,je=-1,ze=0,Fe=1,Ne=2,Be=3,Se=0,We=1,qe="",De="",Ee="";return o.use=n,o.set=l,o});