!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.stylis=e(window)}(function(e){"use strict";function t(e,t,i){var n=r(e[0],e.substr(1),t,!1);if(i){if(document){if(i.nodeType)return i.appendChild(document.createTextNode(n)),i;var o=document.createElement("style");return o.textContent=n,o}return"<style>"+n+"</style>"}return n}function r(e,t,r,f){for(var s=f?"["+e+"="+t+"]":e+t,d="",l=r.length,c=0,u="";c<l;){var p=r.charCodeAt(c);if(123===p||125===p||59===p){u+=r[c],u=u.trim();var v=u.charCodeAt(0);if(47===v)u=125===p?"}":"";else if(64===v){var b=u.charCodeAt(1)||0;if(107===b||114===b){c++,u=107==b?u.substr(1,10)+t+u.substr(11):"";for(var w=0;c<l;){var h=r[c++],m=h.charCodeAt(0);if(9!==m&&13!==m&&10!==m){if(125===m){if(1===w)break;w=1}else 123===m&&(w=0);u+=h}}u=u.replace(o,"").replace(n,"-webkit-$1$1"),u=107===b?"@-webkit-"+u+"}@"+u+"}":u.replace(i,"@-webkit-$1}@$1}")}}else{var b=u.charCodeAt(1)||0,y=u.charCodeAt(2)||0;if(97===v&&110===b&&105===y){var C=u.replace(a,"$1").split(":");u=C[0]+":"+t+C[1].split(",").join(","+t),u="-webkit-"+u+u}else if(116===v&&114===b&&97===y||97===v&&112===b&&112===y)u="-webkit-"+u+u;else if(123===p){for(var C=u.split(","),g="",k=0,A=C.length;k<A;k++){var $=C[k],x=$.charCodeAt(0),j="";j=0===k?58===x||38===x||123===x?s:s+" ":","+s,g+=123===x?j+$:38===x?j+$.substr(1):j+$}u=g}}d+=u,u=""}else 9!==p&&13!==p&&10!==p&&(u+=r[c]);c++}return d}var i=/@(keyframes +.*?}$)/g,n=/(transform:.*?;)/g,o=/  +/g,a=/(,|:) +/g;return t});