!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(global);else if("function"==typeof define&&define.amd)define(e(window));else window.stylis=e(window)}(function(e){"use strict";function i(e,C,x,v,k){e+="";var w,O,y,$=k,j="",z="",N=e.charCodeAt(0);if(N<33)N=(e=e.trim()).charCodeAt(0);switch(N){case 35:case 46:z=(j=e).substring(1);break;case 91:if(O=e.substring(1,e.length-1).split("="),w=(z=O[1]).charCodeAt(0),34===w||39===w)z=z.substring(1,z.length-1);j="["+O[0]+'="'+z+'"]';break;default:z=j=e}if(N=0,true===x||void 0===x||null===x)x=true,y=z.replace(p,"-");else y="",x=false;var E,F=void 0!==$&&null!==$,R=r.length;if(true===F)if(E=(typeof $).charCodeAt(0),111===E)t($);else if(102===E)r[R++]=$;else F=false;if(0!==R)$=1===R?r[0]:l,F=true;var q,B,D,G,H,I,J,K,L,M,P,Q,S,T,U,V,W,X="",Y="",Z="",_=0,ee=0,ie=0,te=0,le=0,re=0,fe=0,ne=0,se=0,ae=0,ce=0,oe=0,he=0,ge=0;if(true===F){if(I=$(0,C,be,pe,j,0),null!=I)C=I;U=""}for(var ue=0,de=0,pe=0,be=1,Ae=C.length,me="";ue<Ae;){if(_=C.charCodeAt(ue),1===ee&&ue===Ae-1||0===ne&&0===fe&&0===oe&&(123===_||125===_||59===_||ue===Ae-1&&0!==X.length)){if(X+=C.charAt(ue),true===F&&125!==_){if(123===_)I=$(1,X.substring(0,X.length-1).trim(),be,pe,j,me.length);else I=$(2,X,be,pe,j,me.length);if(null!=I)X=123===_?I+" {":I}if(L=X.charCodeAt(0),32===L)L=(X=X.trim()).charCodeAt(0);if(M=X.charCodeAt(1),P=X.charCodeAt(2),64===L){if(1===ce&&0!==Z.length){if(ce=0,Z=j+" {"+Z+"}",true===F)if(I=$(4,Z,be,pe,j,me.length),null!=I)Z=I;me+=Z,Z=""}if(59!==_)if(107===M)S=X.substring(1,11)+y+X.substring(11),X="@"+m+S,N=1;else if(109===M&&101===P||115===M&&117===P||103===M){if(ue++,pe++,void 0===V)V="";for(D="",le=1;ue<Ae;){if(w=C.charCodeAt(ue),123===w)le++;else if(125===w)le--;if(0===le){ue++;break}D+=C.charAt(ue++),pe=13===w||10===w?(be++,0):pe+1}if(e=0===de?j:J.substring(0,J.length-1).replace(g,"").trim(),V+=X+i(e,D.trim(),x,v,null).trim()+"}",true===F)if(I=$(3,V,be,pe,j,me.length),null!=I)V=I;if(X="",ee=1,ue===Ae)Ae++;continue}else N=6;if(59!==_&&105!==M){if(107!==M&&109!==M&&115!==M&&103!==M)N=5;te=-1,ie++}}else{if(123===_){if(de++,1===ce&&0!==Z.length){if(ce=0,Z=j+" {"+Z+"}",true===F)if(I=$(4,Z,be,pe,j,me.length),null!=I)Z=I;me+=Z,Z=""}if(2===de){ue++,pe++,D="";var Ce=X.substring(0,X.length-1).split(s),xe=J.substring(0,J.length-1).split(s);for(le=1;ue<Ae;){if(w=C.charCodeAt(ue),123===w)le++;else if(125===w)le--;if(0===le)break;D+=C.charAt(ue++),pe=13===w||10===w?(be++,0):pe+1}R=xe.length;for(var ve=0;ve<R;ve++){I=xe[ve],K=I.indexOf(j),xe[ve]="";for(var ke=0,we=Ce.length;ke<we;ke++){if(K>0)e=":global(%)"+I.trim();else e=I.replace(j,"&").trim();if(Q=Ce[ke].trim(),Q.indexOf(" &")>0)e=Q.replace("&","").trim()+" "+e;else if(null!==a.exec(Q))e=Q;else e=e+" "+Q;xe[ve]+=e.replace(n,"").trim()+(ke===we-1?"":",")}}if(void 0===T)T="";T+="\n"+xe.join(",").replace(c," $1")+" {"+D+"}",re=1,X="",de--}else if(0===ie||2===N){if(0===ae&&X.indexOf("::place")!==-1)ae=1;G=X.split(s),H="",J="",R=G.length;for(var ve=0;ve<R;ve++){if(w=(e=G[ve]).charCodeAt(0),32===w)w=(e=e.trim()).charCodeAt(0);if(38===w)e=j+e.substring(1).replace(f,j);else if((K=e.indexOf(" &"))>0)e=e.replace(f,j).trim();else if(58===w)if(W=e.charCodeAt(1),true===v&&104===W&&116===e.charCodeAt(4))if(W=e.charCodeAt(5),40===W)e=j+e.replace(o,"$1").replace(f,j);else if(45===W)e=e.replace(h,"$1 "+j).replace(f,j);else e=j+e.substring(5);else if(103===W&&(true===v||37===(W=e.charCodeAt(8))))se=1,e=e.replace(a,"$1").replace(f,j).trim();else e=j+e;else if(0===se)e=j+" "+e;if(true===F)if(I=$(1.5,ve===R-1?e.substring(0,e.length-1).trim():e,be,pe,j,me.length),null!=I)e=ve===R-1?I+" {":I;J+=(0!==ve?",\n":"")+(1!==se?e:":global(%)"+e),H+=0!==ve?","+e:e,se=0}X=H}else J=X}else if(false==(125===_&&1===X.length)){if(59!==_)X=(125===_?X.substring(0,X.length-1):X.trim())+";";if(97===L&&110===M&&105===P){if(X=X.substring(0,X.length-1),B=X.indexOf(":")+1,H=X.substring(0,B),true===x&&45!==X.charCodeAt(9)){var Oe=X.substring(B).trim().split(",");R=Oe.length;for(var ve=0;ve<R;ve++){for(var ye=Oe[ve],$e=ye.split(" "),ke=0,we=$e.length;ke<we;ke++){var je=$e[ke].trim(),ze=je.charCodeAt(0),Ne=je.charCodeAt(2),Ee=je.length,Fe=je.charCodeAt(Ee-1);if((ze>64&&ze<90||ze>96&&ze<122||45===ze||95===ze&&95!==je.charCodeAt(1))&&41!==Fe&&0!==Ee&&!(105===ze&&(102===Ne&&101===Fe&&8===Ee||105===Ne&&108===Fe&&7===Ee||104===Ne&&116===Fe&&7===Ee))&&!(117===ze&&115===Ne&&116===Fe&&5===Ee)&&!(108===ze&&110===Ne&&114===Fe&&6===Ee)&&!(97===ze&&116===Ne&&101===Fe&&(9===Ee||17===Ee))&&!(110===ze&&114===Ne&&108===Fe&&6===Ee)&&!(98===ze&&99===Ne&&115===Fe&&9===Ee)&&!(102===ze&&114===Ne&&115===Fe&&8===Ee)&&!(98===ze&&116===Ne&&104===Fe&&4===Ee)&&!(110===ze&&110===Ne&&101===Fe&&4===Ee)&&!(114===ze&&110===Ne&&103===Fe&&7===Ee)&&!(112===ze&&117===Ne&&100===Fe&&6===Ee)&&!(114===ze&&118===Ne&&100===Fe&&8===Ee)&&!(115===ze&&101===Ne&&(116===Fe&&10===Ee||100===Fe&&8===Ee))&&!(101===ze&&115===Ne&&(101===Fe&&4===Ee||(11===Ee||7===Ee||8===Ee)&&45===je.charCodeAt(4)))&&isNaN(parseFloat(je))&&je.indexOf("(")===-1)$e[ke]=y+je}H+=(0===ve?"":",")+$e.join(" ").trim()}}else H+=(110!==X.charCodeAt(10)?"":y)+X.substring(B).trim().trim();X=m+H+";"+H+(125===_?";}":";")}else if(97===L&&112===M&&112===P)X=m+X+b+X+X;else if(100===L&&105===M&&115===P){if((K=X.indexOf("flex"))!==-1)I=101===X.charCodeAt(K-2)?"inline-":"",X=X.indexOf(" !important")!==-1?" !important":"",X="display: "+m+I+"box"+X+";display: "+m+I+"flex"+X+";display: "+A+"flexbox"+X+";display: "+I+"flex"+X+";"}else if(116===L&&(114===M&&97===P||101===M&&120===P))X=m+X+(102===X.charCodeAt(5)?A+X:"")+X;else if(104===L&&121===M&&112===P||117===L&&115===M&&101===P)X=m+X+b+X+A+X+X;else if(102===L&&108===M&&101===P)X=m+X+A+X+X;else if(111===L&&114===M&&100===P)X=m+X+A+"flex-"+X+X;else if(97===L&&108===M&&105===P&&45===X.charCodeAt(5))switch(X.charCodeAt(6)){case 105:I=X.replace("-items",""),X=m+X+m+"box-"+I+A+"flex-"+I+X;break;case 115:X=A+"flex-item-"+X.replace("-self","")+X;break;default:X=A+"flex-line-pack"+X.replace("align-content","")+X}else if(106===L&&117===M&&115===P)B=X.indexOf(":"),I=X.substring(B).replace("flex-",""),X=m+"box-pack"+I+m+X+A+"flex-pack"+I+X;else if(99===L&&117===M&&114===P&&null!==/zoo|gra/.exec(X))X=X.replace(d,": "+m)+X.replace(d,": "+b)+X;else if(119===L&&105===M&&100===P&&(K=X.indexOf("-content"))!==-1)I=X.substring(K-3),X="width: "+m+I+"width: "+b+I+"width: "+I;if(59!==_)if(X=X.substring(0,X.length-1),125===_)X+="}"}if(125===_){if(0!==de)de--;if(0===de&&1===re)C=C.substring(0,ue+1)+T+C.substring(ue+1),Ae+=T.length,T="",re=0,te++;if(125!==L&&32===X.charCodeAt(X.length-2))X=X.substring(0,X.length-1).trim()+"}"}if(0!==ie){if(125===_)te++;else if(123===_&&0!==te)te--;if(0===te){if(1===N)X="}@"+S+"}",S="";N=0,te--,ie--}else if(1===N)S+=X}else if(0===de&&125!==_)ce=1,Z=void 0===Z?X:Z+X,X=""}if(Y+=X,125===_&&0===N){if(w=Y.charCodeAt(Y.length-2),123!==w){if(true===F)if(I=$(3,Y,be,pe,j,me.length),null!=I)Y=I;if(1===ae)ae=0,Y=Y.replace(u,"::"+m+"input-place")+Y.replace(u,"::"+b+"place")+Y.replace(u,":"+A+"input-place")+Y;me+=Y}Y=""}if(1===ee)me+=V,ee=0,V="";X=""}else if(13===_||10===_){if(1===ge)oe=ge=0,X=X.substring(0,X.indexOf("//")).trim();else if(true===F&&0===oe&&0!==(R=(U=U.trim()).length)&&47!==U.charCodeAt(0)){if(0!==X.length)if(I=$(7,U,be,pe,j,me.length),null!=I)X=X.replace(new RegExp(U+"$"),I).trim();U=""}pe=0,be++}else{if(9!==_){if(q=C.charAt(ue),true===F&&0===oe)U+=q;switch(X+=q,_){case 44:if(0===ne&&0===oe&&0===fe)X+="\n";break;case 34:if(0===oe)ne=34===ne?0:39===ne?39:34;break;case 39:if(0===oe)ne=39===ne?0:34===ne?34:39;break;case 40:if(0===ne&&0===oe)fe=1;break;case 41:if(0===ne&&0===oe)fe=0;break;case 47:if(0===ne&&0===fe)if(w=C.charCodeAt(ue-1),0===he&&47===w)oe=ge=1;else if(42===w)oe=he=0,X=X.substring(0,X.indexOf("/*")).trim();break;case 42:if(0===ne&&0===fe&&0===ge&&0===he)if(47===C.charCodeAt(ue-1))oe=he=1}}pe++}ue++}if(void 0!==Z&&0!==Z.length){if(Z=j+" {"+Z+"}",true===F)if(I=$(4,Z,be,pe,j,me.length),null!=I)Z=I;me+=Z}if(true===F)if(I=$(6,me,be,pe,j,me.length),null!=I)me=I;return me}function t(e){var t=r.length;if(null!=e)if(e.constructor===Array)for(var l=0,f=e.length;l<f;l++)r[t++]=e[l];else r[t]=e;return i}function l(e,i,t,l,f,n){for(var s=i,a=0,c=r.length;a<c;a++)s=r[a](e,s,t,l,f,n)||s;if(s!==i)return s}var r=[],f=/&/g,n=/ +&/,s=/,\n/g,a=/:global\(%?((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,c=/(?:&| ):global\(%?((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,o=/:host\((.*)\)/g,h=/:host-context\((.*)\)/g,g=/\n/g,u=/::place/g,d=/: +/g,p=/[ .#~+><\d]+/g,b="-moz-",A="-ms-",m="-webkit-";return i.use=t,i.p=r,i.r={a:f,s:s,g:a,n:c},i});