!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e()):window.stylis=e()}(function(){"use strict";function e(c,r,i,n){for(var l,o,b=0,u=0,k=0,p=0,g=0,w=0,A=0,m=0,C=0,v=0,O=0,y=0,j=0,z=0,P=0,Q=0,R=0,T=0,U=i.length,ge=U-1,we="",Ce="",xe="",$e="",Se="",We="";y<U;){if(j=i.charCodeAt(y),u+p+k+b===0){if(1===R){switch(j){case X:break;default:y--,j=S}R=0}switch(y){case ge:if(Q>0)Ce=Ce.replace(d,"");if((Ce=Ce.trim()).length>0){switch(j){case M:case K:case S:case J:case I:break;default:Ce+=i.charAt(y)}j=S}}switch(j){case q:for(Ce=Ce.trim(),g=Ce.charCodeAt(0),m=1,y++;y<U;){switch(j=i.charCodeAt(y)){case q:m++;break;case W:m--}if(0===m)break;$e+=i.charAt(y++)}if(g===re)g=(Ce=Ce.replace(h,"").trim()).charCodeAt(0);switch(g){case L:if(Q>0)Ce=Ce.replace(d,"");if(w=Ce.charCodeAt(1),$e=e(r,w>108?r:me,$e,w),ve>0)if(l=a(me,Ce),o=f(ze,$e,l,r,be,de,xe.length),Ce=l.join(""),void 0!==o)$e=o;switch(w){case ie:case fe:$e=Ce+"{"+$e+"}";break;case oe:$e=Ce+$e;break;case te:Ce=Ce.replace(x,"$1 $2"+(Ne>0?Be:"")),$e=Ce+"{"+$e+"}",$e="@"+(pe>0?F+$e+"@"+$e:$e)}break;default:$e=e(r,a(r,Ce),$e,n)}Se+=$e,y++,C=0,O=0,Q=0,v=0,Ce="",$e="";break;case S:if(Q>0)Ce=Ce.replace(d,"");if(Ce=Ce.trim(),ve>0)if(void 0!==(o=f(ye,Ce,r,c,be,de,xe.length)))Ce=o.trim();switch(g=Ce.charCodeAt(0),w=Ce.charCodeAt(1),A=Ce.charCodeAt(2),g+w){case ne:case le:We+=Ce+i.charAt(y);break;default:xe+=s(Ce,g,w,A)}y++,C=0,O=0,Q=0,Ce=""}}switch(j){case J:case I:if(u+p+k+b+Ae===0)switch(z){case X:case re:case K:case J:case I:case M:case S:case q:case W:break;default:if(O>0)R=1}if(u===ee)u=0;if(ve*Fe>0)f(Oe,Ce,r,c,be,de,xe.length);de=1,be++;break;default:if(de++,j===K)break;switch(we=i.charAt(y),j){case 108:if(p+u+b+ue===0&&O>0&&y-O===2)ue=z;break;case Y:if(p+u+b===0)O=y;break;case X:if(u+k+p+b===0)Q=1,we+="\r";break;case _:if(0===u)p=p===_?0:0===p?_:p;break;case Z:if(0===u)p=p===Z?0:0===p?Z:p;break;case G:if(p+u+k===0)b=1;break;case H:if(p+u+k===0)b=0;break;case E:if(p+u+b===0)k--;break;case D:if(p+u+b===0){if(0===C)switch(2*z+3*P){case 565:break;default:m=0,C=1}k++}break;case L:if(u+k+p+b+O+v===0)v=1;break;case V:case ee:if(p+b+k>0)break;switch(u){case 0:switch(2*j+3*i.charCodeAt(y+1)){case 235:u=ee;break;case 220:u=V}break;case V:if(j===ee&&z===V)we="",u=0}}if(0===u){if(ke+p+b+v===0&&n!==te)switch(Q=1,j){case X:case se:case ae:case ce:case E:case D:if(0===C)switch(z){case K:case M:case I:case J:we+="\0";break;default:we="\0"+we+"\0"}else switch(j){case D:C=++m;break;case E:if(0===(C=--m))we+="\0"}break;case M:switch(z){case K:case M:case I:case J:break;default:if(0===C)we+="\0"}}Ce+=we}}P=z,z=j,y++}if(Q>0)xe=xe.replace(d,"");if(T=xe.length,T>0&&ve>0)if(o=f(je,xe,r,c,be,de,T),void 0!==o)T=(xe=o).length;if(T>0){if(0===ke&&n!==te)t(r);switch(xe=r.join(",").trim()+"{"+xe+"}",ue){case 0:break;case he:xe=xe.replace($,"::"+F+"input-$1")+xe.replace($,"::"+N+"$1")+xe.replace($,":"+B+"input-$1")+xe;default:ue=0}}return We+xe+Se}function a(e,a){var s=a.trim().split(A),r=s,t=r.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?"":e[0]+" ";f<t;f++)r[f]=c(r[f],n,i).trim();break;default:for(var f=0,l=0,r=[];f<t;f++)for(var o=0;o<i;o++)r[l++]=c(s[f],e[o]+" ",i).trim()}return r}function c(e,a,c){var s=e,r=a,t=s.charCodeAt(0);switch(t){case re:s=s.replace(h,"");case J:case I:case M:t=(s=s.trim()).charCodeAt(0)}switch(t){case P:switch(ke+c){case 0:case 1:if(0===a.trim().length)break;default:return s.replace(m,r.trim())}break;case Y:switch(s.charCodeAt(1)){case 103:if(ge>0&&ke>0)return s.replace(v,"$1").replace(m,We);break;default:return r.trim()+s}default:switch(s.charCodeAt(s.length-1)){case P:return r.replace(We,"").trim()+" "+s.replace(m,We)}}return r+s}function s(e,a,c,s){var t,i=e+";",f=0,n=2*a+3*c+4*s;if(944===n)i=r(i);else if(pe>0)switch(n){case 978:i=F+i+N+i+i;break;case 1019:case 983:i=F+i+N+i+B+i+i;break;case 932:i=F+i+B+i+i;break;case 964:i=F+i+B+flex+"-"+i+i;break;case 1023:t=i.substring(i.indexOf(":",15)).replace("flex-",""),i=F+"box-pack"+t+F+i+B+"flex-pack"+t+i;break;case 975:switch(f=(i=e).length-10,t=(33===i.charCodeAt(f)?i.substring(0,f):i).substring(8).trim(),n=t.charCodeAt(0)+(0|t.charCodeAt(7))){case 203:if(t.charCodeAt(8)>110)i=i.replace(t,F+t)+";"+i;break;case 207:case 102:i=i.replace(t,F+(n>102?"inline-":"")+"box")+";"+i.replace(t,F+t)+";"+i.replace(t,B+t+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===T)switch(i.charCodeAt(6)){case 105:t=i.replace("-items",""),i=F+i+F+"box-"+t+B+"flex-"+t+i;break;case 115:i=F+i+B+"flex-item-"+i.replace("-self","")+i;break;default:i=F+i+B+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(u.test(i))i=i.replace(b,": "+F)+i.replace(b,": "+N)+i;break;case 953:if((f=i.indexOf("-content",9))>0)t=i.substring(f-3),i="width:"+F+t+"width:"+N+t+"width:"+t;break;case 962:case 1015:if(i=F+i+(102===i.charCodeAt(5)?B+i:"")+i,c+s===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(k,F+"$1")+i}return i}function r(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==T)for(var i=r.split(p),f=0,c=0,a=i.length;f<a;c=0,f++){for(var n=i[f],l=n.split(g);n=l[c];){var o=n.charCodeAt(0);if(1===Ne&&(o>L&&o<90||o>96&&o<122||o===U||o===T&&n.charCodeAt(1)!==T))switch(isNaN(parseFloat(n))+(n.indexOf("(")!==-1)){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reversed":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Be}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===Ne?Be:""):r;return t=s+t+";",pe>0?F+t+t:t}function t(e){for(var a,c,s=0,r=e.length;s<r;s++){for(var t=e[s].split(w),i="",f=0,n=0,l=0,o=0,h=0,b=t.length;f<b;f++){if(0===(n=(c=t[f]).length)&&b>1)continue;if(a=" ",o=i.charCodeAt(i.length-1),h=c.charCodeAt(0),0===f)a="";else switch(o){case se:case ae:case ce:case M:case D:a=""}switch(h){case P:c="";case Q:case R:c=a+c+Se;case se:case ae:case ce:case M:case E:case D:break;case G:l=1,c=a+c+Se;break;case Y:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:c=a+c.substring(8,n-1);case 553:break;default:c=(2===l?"":a+Se)+c}break;default:if(n>1&&c.indexOf(":")>0)c=a+c.replace(z,Se+"$1");else l=1,c=a+c+Se}l=1===l?2:2===l?0:l,i+=c}e[s]=i.replace(d,"").trim()}}function i(a,c){var s=a,r=s.charCodeAt(0);if(r<33)r=(s=s.trim()).charCodeAt(0);if(Ne>0)Be=s.replace(C,r===G?"":"-");if(1===ke)We=s;else Se=s;var t=[We];if(ve>0)f($e,c,t,t,be,de,0);var i=e(me,t,c,0);if(ve>0)f(xe,i,t,t,be,de,i.length);return Be="",We="",Se="",be=1,de=1,ue=0,0===we?i:o(i)}function f(e,a,c,s,r,t,i){for(var f=0,n=a;f<ve;f++)n=Ce[f](e,n,c,s,r,t,i);switch(n){case null:case void 0:case a:break;default:return n+""}}function n(e){switch(e){case void 0:case null:ve=Ce.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;a++)n(e[a]);break;case Function:Ce[ve++]=e;break;case Boolean:Fe=0|!!e}}return n}function l(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Ne=0|c;break;case"global":escade=0|c;break;case"cascade":ke=0|c;break;case"compress":we=0|c;break;case"prefix":pe=0|c;break;case"semicolon":Ae=0|c}}return l}function o(e){return e.replace(d,"").replace(O,"").replace(y,"$1").replace(j,"$1")}var h=/^\0+/g,d=/[\0\r]/g,b=/: */g,u=/zoo|gra/,k=/ *(transform)/g,p=/,+\s*(?![^(]*[)])/g,g=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,A=/,\r+?/g,m=/&/g,C=/\W+/g,v=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,x=/@(k\w+s)\s*(\S*)\s*/,$=/::?(place)/g,O=/\s+(?=[{\];=:>+*])/g,y=/([[}=:>+*])\s+/g,j=/(\{[^{]+?);(?=\})/g,z=/(:+) */g,F="-webkit-",N="-moz-",B="-ms-",S=59,W=125,q=123,D=40,E=41,G=91,H=93,I=10,J=13,K=9,L=64,M=32,P=38,Q=35,R=46,T=45,U=95,V=42,X=44,Y=58,Z=39,_=34,ee=47,ae=62,ce=43,se=126,re=0,te=107,ie=109,fe=115,ne=169,le=163,oe=102,he=112,de=1,be=1,ue=0,ke=1,pe=1,ge=1,we=0,Ae=0,me=[],Ce=[],ve=0,xe=-1,$e=-2,Oe=0,ye=1,je=2,ze=3,Fe=0,Ne=1,Be="",Se="",We="";return i.use=n,i.set=l,i});