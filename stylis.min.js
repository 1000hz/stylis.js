!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e()):window.stylis=e()}(function(){"use strict";function e(c,r,i,n){for(var l,o,b=0,u=0,k=0,p=0,g=0,w=0,A=0,m=0,C=0,v=0,O=0,y=0,j=0,z=0,F=0,Q=0,R=0,T=0,pe=i.length,ge=pe-1,me="",ve="",xe="",Be="",Se="",We="";y<pe;){if(j=i.charCodeAt(y),u+p+k+b===0){if(1===R){switch(j){case V:break;default:y--,j=W}R=0}switch(y){case ge:if(Q>0)ve=ve.replace(d,"");if((ve=ve.trim()).length>0){switch(j){case P:case L:case W:case K:case J:break;default:ve+=i.charAt(y)}j=W}}switch(j){case D:for(ve=ve.trim(),g=ve.charCodeAt(0),m=1,y++;y<pe;){switch(j=i.charCodeAt(y)){case D:m++;break;case q:m--}if(0===m)break;Be+=i.charAt(y++)}if(g===se)g=(ve=ve.replace(h,"").trim()).charCodeAt(0);switch(g){case M:if(Q>0)ve=ve.replace(d,"");if(w=ve.charCodeAt(1),Be=e(r,w>108?r:Ae,Be,w),Ce>0)if(l=a(Ae,ve),o=f(je,Be,l,r,de,he,xe.length),ve=l.join(""),void 0!==o)Be=o;switch(w){case te:case ie:Be=ve+"{"+Be+"}";break;case le:Be=ve+Be;break;case re:ve=ve.replace(x,"$1 $2"+(Fe>0?Ne:"")),Be=ve+"{"+Be+"}",Be="@"+(ke>0?N+Be+"@"+Be:Be)}break;default:Be=e(r,a(r,ve),Be,n)}Se+=Be,y++,C=0,O=0,Q=0,v=0,ve="",Be="";break;case W:if(Q>0)ve=ve.replace(d,"");if(ve=ve.trim(),Ce>0)if(void 0!==(o=f(Oe,ve,r,c,de,he,xe.length)))ve=o.trim();switch(g=ve.charCodeAt(0),w=ve.charCodeAt(1),A=ve.charCodeAt(2),g+w){case fe:case ne:We+=ve+i.charAt(y);break;default:xe+=s(ve,g,w,A)}y++,C=0,O=0,Q=0,ve=""}}switch(j){case K:case J:if(u+p+k+b+we===0)switch(z){case X:case V:case se:case L:case K:case J:case P:case W:case D:case q:break;default:if(O>0)R=1}if(u===_)u=0;if(Ce*ze>0)f($e,ve,r,c,de,he,xe.length);he=1,de++;break;default:if(he++,j===L)break;switch(me=i.charAt(y),j){case 108:if(p+u+b+be===0&&O>0&&y-O===2)be=z;break;case X:if(p+u+b===0)O=y;break;case V:if(u+k+p+b===0)Q=1,me+="\r";break;case Z:if(0===u)p=p===Z?0:0===p?Z:p;break;case Y:if(0===u)p=p===Y?0:0===p?Y:p;break;case H:if(p+u+k===0)b=1;break;case I:if(p+u+k===0)b=0;break;case G:if(p+u+b===0){if(y===ge)ge++,pe++;k--}break;case E:if(p+u+b===0){if(0===C)switch(2*z+3*F){case 533:break;default:m=0,C=1}k++}break;case M:if(u+k+p+b+O+v===0)v=1;break;case U:case _:if(p+b+k>0)break;switch(u){case 0:switch(2*j+3*i.charCodeAt(y+1)){case 235:u=_;break;case 220:u=U}break;case U:if(j===_&&z===U)me="",u=0}}if(0===u){if(ue+p+b+v===0&&n!==re)switch(Q=1,j){case V:case ce:case ee:case ae:case G:case E:if(0===C)switch(z){case L:case P:case J:case K:me+="\0";break;default:me="\0"+me+(j===V?"":"\0")}else switch(j){case E:C=++m;break;case G:if(0===(C=--m))me+="\0"}break;case P:switch(z){case V:case L:case P:case J:case K:break;default:if(0===C)me+="\0"}}ve+=me}}F=z,z=j,y++}if(Q>0)xe=xe.replace(d,"");if(T=xe.length,T>0&&Ce>0)if(o=f(ye,xe,r,c,de,he,T),void 0!==o)T=(xe=o).length;if(T>0){if(0===ue&&n!==re)t(r);switch(xe=r.join(",").trim()+"{"+xe+"}",be){case 0:break;case oe:xe=xe.replace($,"::"+N+"input-$1")+xe.replace($,"::"+B+"$1")+xe.replace($,":"+S+"input-$1")+xe;default:be=0}}return We+xe+Se}function a(e,a){var s=a.trim().split(A),r=s,t=r.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?"":e[0]+" ";f<t;f++)r[f]=c(r[f],n,i).trim();break;default:for(var f=0,l=0,r=[];f<t;f++)for(var o=0;o<i;o++)r[l++]=c(s[f],e[o]+" ",i).trim()}return r}function c(e,a,c){var s=e,r=a,t=s.charCodeAt(0);switch(t){case se:s=s.replace(h,"");case K:case J:case P:t=(s=s.trim()).charCodeAt(0)}switch(t){case Q:switch(ue+c){case 0:case 1:if(0===a.trim().length)break;default:return s.replace(m,r.trim())}break;case X:switch(s.charCodeAt(1)){case 103:if(pe>0&&ue>0)return s.replace(v,"$1").replace(m,Se);break;default:return r.trim()+s}default:switch(s.charCodeAt(s.length-1)){case Q:return r.replace(Se,"").trim()+" "+s.replace(m,Se)}}return r+s}function s(e,a,c,s){var t,i=e+";",f=0,n=2*a+3*c+4*s;if(944===n)i=r(i);else if(ke>0)switch(n){case 978:i=N+i+B+i+i;break;case 1019:case 983:i=N+i+B+i+S+i+i;break;case 932:i=N+i+S+i+i;break;case 964:i=N+i+S+"flex-"+i+i;break;case 1023:t=i.substring(i.indexOf(":",15)).replace("flex-",""),i=N+"box-pack"+t+N+i+S+"flex-pack"+t+i;break;case 975:switch(f=(i=e).length-10,t=(33===i.charCodeAt(f)?i.substring(0,f):i).substring(8).trim(),n=t.charCodeAt(0)+(0|t.charCodeAt(7))){case 203:if(t.charCodeAt(8)>110)i=i.replace(t,N+t)+";"+i;break;case 207:case 102:i=i.replace(t,N+(n>102?"inline-":"")+"box")+";"+i.replace(t,N+t)+";"+i.replace(t,S+t+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===R)switch(i.charCodeAt(6)){case 105:t=i.replace("-items",""),i=N+i+N+"box-"+t+S+"flex-"+t+i;break;case 115:i=N+i+S+"flex-item-"+i.replace("-self","")+i;break;default:i=N+i+S+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(u.test(i))i=i.replace(b,": "+N)+i.replace(b,": "+B)+i;break;case 953:if((f=i.indexOf("-content",9))>0)t=i.substring(f-3),i="width:"+N+t+"width:"+B+t+"width:"+t;break;case 962:case 1015:if(i=N+i+(102===i.charCodeAt(5)?S+i:"")+i,c+s===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(k,N+"$1")+i}return i}function r(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==R)for(var i=r.split(p),f=0,c=0,a=i.length;f<a;c=0,f++){for(var n=i[f],l=n.split(g);n=l[c];){var o=n.charCodeAt(0);if(1===Fe&&(o>M&&o<90||o>96&&o<122||o===T||o===R&&n.charCodeAt(1)!==R))switch(isNaN(parseFloat(n))+(n.indexOf("(")!==-1)){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reversed":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Ne}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===Fe?Ne:""):r;return t=s+t+";",ke>0?N+t+t:t}function t(e){for(var a,c,s=0,r=e.length;s<r;s++){for(var t=e[s].split(w),i="",f=0,n=0,l=0,o=0,h=t.length;f<h;f++){if(0===(n=(c=t[f]).length)&&h>1)continue;if(a=" ",l=i.charCodeAt(i.length-1),o=c.charCodeAt(0),0===f)a="";else switch(l){case U:case ce:case ee:case ae:case P:case E:a=""}switch(o){case Q:c=a+""+Be;case ce:case ee:case ae:case P:case G:case E:break;case H:c=a+c+Be;break;case X:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(pe>0){c=a+c.substring(8,n-1);break}default:if(f<1||t[f-1].length<1)c=a+Be+c}break;case V:a="";default:if(n>1&&c.indexOf(":")>0)c=a+c.replace(F,"$1"+Be+"$2");else c=a+c+Be}i+=c}e[s]=i.replace(d,"").trim()}}function i(a,c){var s=a,r=s.charCodeAt(0);if(r<33)r=(s=s.trim()).charCodeAt(0);if(Fe>0)Ne=s.replace(C,r===H?"":"-");if(1===ue)Se=s;else Be=s;var t=[Se];if(Ce>0)f(xe,c,t,t,de,he,0);var i=e(Ae,t,c,0);if(Ce>0)f(ve,i,t,t,de,he,i.length);return Ne="",Se="",Be="",de=1,he=1,be=0,0===ge?i:o(i)}function f(e,a,c,s,r,t,i){for(var f=0,n=a;f<Ce;f++)n=me[f](e,n,c,s,r,t,i);switch(n){case null:case void 0:case a:break;default:return n+""}}function n(e){switch(e){case void 0:case null:Ce=me.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;a++)n(e[a]);break;case Function:me[Ce++]=e;break;case Boolean:ze=0|!!e}}return n}function l(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Fe=0|c;break;case"global":pe=0|c;break;case"cascade":ue=0|c;break;case"compress":ge=0|c;break;case"prefix":ke=0|c;break;case"semicolon":we=0|c}}return l}function o(e){return e.replace(d,"").replace(O,"").replace(y,"$1").replace(j,"$1").replace(z," ")}var h=/^\0+/g,d=/[\0\r]/g,b=/: */g,u=/zoo|gra/,k=/ *(transform)/g,p=/,+\s*(?![^(]*[)])/g,g=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,A=/,\r+?/g,m=/&/g,C=/\W+/g,v=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,x=/@(k\w+s)\s*(\S*)\s*/,$=/::?(place)/g,O=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,j=/(\{[^{]+?);(?=\})/g,z=/\s{2,}/g,F=/([^\(])(:+) */g,N="-webkit-",B="-moz-",S="-ms-",W=59,q=125,D=123,E=40,G=41,H=91,I=93,J=10,K=13,L=9,M=64,P=32,Q=38,R=45,T=95,U=42,V=44,X=58,Y=39,Z=34,_=47,ee=62,ae=43,ce=126,se=0,re=107,te=109,ie=115,fe=169,ne=163,le=102,oe=112,he=1,de=1,be=0,ue=1,ke=1,pe=1,ge=0,we=0,Ae=[],me=[],Ce=0,ve=-1,xe=-2,$e=0,Oe=1,ye=2,je=3,ze=0,Fe=1,Ne="",Be="",Se="";return i.use=n,i.set=l,i});