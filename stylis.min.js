!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.stylis=e(window)}(function(e){"use strict";function t(e,t,i){var n=r(e[0],e.substr(1),t,!1);if(i){if(document){if(i.nodeType)return i.appendChild(document.createTextNode(n)),i;var o=document.createElement("style");return o.textContent=n,o}return"<style>"+n+"</style>"}return n}function r(e,t,r,i){for(var n=i?"["+e+"="+t+"]":e+t,o="",a=r.length,f=0,s="",d=/@(keyframes +.*?}$)/g,l=/(transform:.*?;)/g,c=/  +/g,u=/(,|:) +/g;f<a;){var p=r.charCodeAt(f);if(123===p||125===p||59===p){s+=r[f],s=s.trim();var b=s.charCodeAt(0);if(47===b)s=125===p?"}":"";else if(64===b){var v=s.charCodeAt(1)||0;if(107===v||114===v){f++,s=107==v?s.substr(1,10)+t+s.substr(11):"";for(var w=0;f<a;){var h=r[f++],m=h.charCodeAt(0);if(9!==m&&13!==m&&10!==m){if(125===m){if(1===w)break;w=1}else 123===m&&(w=0);s+=h}}s=s.replace(c,"").replace(l,"-webkit-$1$1"),s=107===v?"@-webkit-"+s+"}@"+s+"}":s.replace(d,"@-webkit-$1}@$1}")}}else{var v=s.charCodeAt(1)||0,y=s.charCodeAt(2)||0;if(97===b&&110===v&&105===y){var C=s.replace(u,"$1").split(":");s=C[0]+":"+t+C[1].split(",").join(","+t),s="-webkit-"+s+s}else if(116===b&&114===v&&97===y||97===b&&112===v&&112===y)s="-webkit-"+s+s;else if(123===p){for(var C=s.split(","),g="",k=0,A=C.length;k<A;k++){var $=C[k],x=$.charCodeAt(0),j="";j=0===k?58===x||38===x||123===x?n:n+" ":","+n,g+=123===x?j+$:38===x?j+$.substr(1):j+$}s=g}}o+=s,s=""}else 9!==p&&13!==p&&10!==p&&(s+=r[f]);f++}return o}return t});